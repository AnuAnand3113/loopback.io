<!DOCTYPE html>
<head>
    

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="LoopBack は組み込みのトークンに基づく認証が含まれています。">
  <meta name="keywords" content="authentication,  LoopBack">
  <title>認証・認可・パーミッション | LoopBack Documentation</title>
  <link rel="stylesheet" href="/css/syntax.css">

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/modern-business.css">
    <link rel="stylesheet" href="/css/lavish-bootstrap.css">
    <link rel="stylesheet" href="/css/customstyles.css">
    <link rel="stylesheet" href="/css/theme-v4.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150726441-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150726441-2');
</script>


    <!-- github star button -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js"></script>
    <script src="/js/toc.js"></script>
    <script src="/js/customscripts.js"></script>

    <link rel="shortcut icon" href="/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand no_icon" href="/doc/index.html">
              <img class="no_icon" style="width:147px;" src="/images/branding/logo/white/loopback.svg">&nbsp;<span class="projectTitle"></span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Docs<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://loopback.io/doc/en/lb4/apidocs.index.html" target="_blank">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="http://apidocs.loopback.io" target="_blank">LoopBack 3.x</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">View<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is / -->
                          
                            <li><a href="/">LoopBack Overview</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/lb4/ -->
                          
                            <li><a href="/doc/en/lb4/">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/lb3/ -->
                          
                            <li><a href="/doc/en/lb3/">LoopBack 3.x</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/lb2/ -->
                          
                            <li><a href="/doc/en/lb2/">LoopBack 2.x</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/community/ -->
                          
                            <li><a href="/doc/en/community/">Community projects</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/contrib/ -->
                          
                            <li><a href="/doc/en/contrib/">Contributing to LoopBack</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/en/sec/ -->
                          
                            <li><a href="/doc/en/sec/">Security advisories</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://github.com/strongloop/loopback.io" target="_blank">Docs Github Repo</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs-announcements" target="_blank">Announcements Mailing List</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs" target="_blank">Developer Forum</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw" target="_blank">LoopBack on Slack</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://stackoverflow.com/questions/tagged/strongloop+or+loopback4+or+loopbackjs" target="_blank">LoopBack on Stack Overflow</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is  -->
                          
                            <li><a href="https://strongloop.com/strongblog/tag_LoopBack.html" target="_blank">StrongLoop Blog - LoopBack</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Translations<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/es/lb2/ -->
                          
                            <li><a href="/doc/es/lb2/">Español (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/es/lb4/ -->
                          
                            <li><a href="/doc/es/lb4/">Español (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/fr/lb2/ -->
                          
                            <li><a href="/doc/fr/lb2/">Français (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/fr/lb4/ -->
                          
                            <li><a href="/doc/fr/lb4/">Français (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ko/lb2/ -->
                          
                            <li><a href="/doc/ko/lb2/">한국어 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ko/lb3/ -->
                          
                            <li><a href="/doc/ko/lb3/">한국어 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/pt-br/lb2/ -->
                          
                            <li><a href="/doc/pt-br/lb2/">Português (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/pt-br/lb4/ -->
                          
                            <li><a href="/doc/pt-br/lb4/">Português (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ja/lb2/ -->
                          
                            <li><a href="/doc/ja/lb2/">日本語 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ja/lb3/ -->
                          
                            <li class="dropdownActive"><a href="/doc/ja/lb3/">日本語 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ja/lb4/ -->
                          
                            <li><a href="/doc/ja/lb4/">日本語 (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/ru/lb2/ -->
                          
                            <li><a href="/doc/ru/lb2/">Pусский (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/zh/lb2/ -->
                          
                            <li><a href="/doc/zh/lb2/">中文 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/ja/lb3/Authentication-authorization-and-permissions.html .... folderitem.url is /doc/zh/lb4/ -->
                          
                            <li><a href="/doc/zh/lb4/">中文 (v4)</a></li>
                          
                        
                    </ul>
                </li>
                
                
                
                <li>
                    <form id="search" name="search" class="input-group lb-search" action="/search" method="GET">
                        <input type="text" class="form-control search-bar" placeholder="Search (powered by Watson)" name="q">
                        
                          <input type="hidden" name="sidebar" value="ja_lb3_sidebar">
                        
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-default" aria-label="search">
                              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                        </div>
                      </form>
                </li>
            </ul>
        </div>
      </div>
</nav>

<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <nav class="col-md-3 sidebar-col">
          











<!-- NOTE: sidebar = site.data.sidebars.mydoc_sidebar.entries -->
<div class="sidebarTitle"><a href="/doc/ja/lb3/index.html">LoopBack 3.x</a></div>
<ul id="mysidebar" class="nav-list">
  

  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Installation.html">インストール</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Installation-troubleshooting.html">Installation troubleshooting</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="3.0-Release-Notes.html">3.0 Release Notes</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Migrating-to-3.0.html">Migrating apps to v3</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="LoopBack-core-concepts.html">LoopBackの核となる概念</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Routing.html">ルーティング</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="LoopBack-FAQ.html">LoopBack FAQ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Glossary.html">用語集</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="StrongLoop-Labs.html">StrongLoop Labs</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Getting-started-with-LoopBack.html">LoopBack を始めよう</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Create-a-simple-API.html">Create a simple API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Use-API-Explorer.html">Use API Explorer</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connect-your-API-to-a-data-source.html">Connect your API to a data source</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Extend-your-API.html">Extend your API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Add-a-static-web-page.html">Add a static web page</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Add-a-custom-Express-route.html">Add a custom Express route</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Next-steps.html">Next steps</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Getting-started-part-II.html">Getting started part II</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Introducing-the-Coffee-Shop-Reviews-app.html">Introducing the Coffee Shop Reviews app</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Create-new-data-source.html">Create new data source</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Create-new-models.html">Create new models</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Define-model-relations.html">Define model relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Define-access-controls.html">Define access controls</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Define-a-remote-hook.html">Define a remote hook</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Create-AngularJS-client.html">Create AngularJS client</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Learn-more.html">Learn more</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorials-and-examples.html">Tutorials and examples</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Security-advisories.html">Security advisories</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Security-advisory-10-24-2017.html">10-24-2017</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Security-advisory-09-21-2017.html">09-21-2017</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Security-advisory-03-10-2017.html">03-10-2017</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Creating-an-application.html">アプリケーションの作成</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Environment-specific-configuration.html">環境別の設定</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Versioning-your-API.html">APIのバージョニング</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Standard-project-structure.html">標準的なプロジェクト構成</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Defining-data-sources.html">Defining data sources</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Creating-a-database-schema-from-models.html">Creating a database schema from models</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Advanced-topics-data-sources.html">Data sources: advanced topics</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-database-transactions.html">データベースのトランザクションを使用する</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Executing-native-SQL.html">Executing native SQL</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Building-a-connector.html">Building a connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Implementing-create-retrieve-update-and-delete-methods.html">Implementing CRUD methods</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Implementing-model-discovery.html">Implementing model discovery</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Implementing-auto-migration.html">Implementing auto-migration</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Defining-models.html">Defining models</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-the-model-generator.html">Using the model generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Discovering-models-from-relational-databases.html">リレーショナルデータベースからモデルを発見する</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Creating-models-from-unstructured-data.html">Creating models from unstructured data</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Customizing-models.html">モデルのカスタマイズ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Exposing-models-over-REST.html">REST経由でモデルを公開する</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Validating-model-data.html">モデルのデータを検証する</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Creating-model-relations.html">Creating model relations</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-model-relations.html">Tutorial: model relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="BelongsTo-relations.html">BelongsTo relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="HasOne-relations.html">HasOne relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="HasMany-relations.html">HasMany relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="HasManyThrough-relations.html">HasManyThrough relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="HasAndBelongsToMany-relations.html">HasAndBelongsToMany relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Polymorphic-relations.html">Polymorphic relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Querying-related-models.html">Querying related models</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Embedded-models-and-relations.html">Embedded models and relations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Nested-queries.html">Nested queries</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Using-built-in-models.html">Using built-in models</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Extending-built-in-models.html">Extending built-in models</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Adding-remote-methods-to-built-in-models.html">Adding remote methods to built-in models</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Model-property-reference.html">Model property reference</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Built-in-models-REST-API.html">Built-in models REST API</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="PersistedModel-REST-API.html">PersistedModel REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Access-token-REST-API.html">Access token REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="ACL-REST-API.html">ACL REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Application-REST-API.html">Application REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Relation-REST-API.html">Relation REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Role-REST-API.html">Role REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="User-REST-API.html">User REST API</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Attaching-models-to-data-sources.html">Attaching models to data sources</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Managing-users.html">Managing users</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Registering-users.html">Registering users</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Logging-in-users.html">Logging in users</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Partitioning-users-with-realms.html">Partitioning users with realms</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="User-management-example.html">User management example</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Authentication-authorization-and-permissions.html">認証・認可・パーミッション</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Introduction-to-User-model-authentication.html">Introduction to User model authentication</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Controlling-data-access.html">Controlling data access</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Making-authenticated-requests.html">Making authenticated requests</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Defining-and-using-roles.html">Defining and using roles</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Accessing-related-models.html">Accessing related models</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Creating-a-default-admin-user.html">Creating a default admin user</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Security-considerations.html">Security considerations</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-access-control.html">Tutorial: access control</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Working-with-data.html">データの操作</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Creating-updating-and-deleting-data.html">データの作成・更新・削除</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Querying-data.html">データの検索</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Fields-filter.html">Fields フィルタ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Include-filter.html">Include フィルタ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Limit-filter.html">Limit フィルタ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Order-filter.html">Order フィルタ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Skip-filter.html">Skip フィルタ</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Where-filter.html">Where フィルタ</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Advanced-topics-data.html">Advanced topics: data</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Realtime-server-sent-events.html">Realtime server-sent events</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="AngularJS-LiveSet.html">AngularJS Live Set</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="AngularJS-LiveSet-Example.html">AngularJS Live Set example</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Realtime-socket-io.html">Real-time apps AngularJS using socket.io</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Adding-application-logic.html">アプリケーションロジックの追加</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Working-with-LoopBack-objects.html">LoopBackのオブジェクトを扱う</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Adding-logic-to-models.html">モデルにロジックを追加する</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Remote-methods.html">リモートメソッド</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Remote-hooks.html">リモートフック</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Operation-hooks.html">操作フック</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connector-hooks.html">コネクタフック</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-Adding-application-logic.html">Tutorial: Application logic</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Defining-boot-scripts.html">起動スクリプトの定義</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Defining-mixins.html">Defining mixins</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Defining-middleware.html">Defining middleware</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Middleware-example.html">Middleware example</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-current-context.html">Using current context</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Events.html">Events</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-promises.html">Using promises</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Running-and-debugging-apps.html">アプリケーションの実行とデバッグ</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Setting-debug-strings.html">デバッグ文字列の設定</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-strong-error-handler.html">Using strong-error-handler</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Preparing-for-deployment.html">Preparing for deployment</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="LoopBack-on-Bluemix.html">Running LoopBack apps on Bluemix</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="LoopBack-components.html">LoopBack components</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="OAuth-2.0.html">OAuth 2.0 component</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Push-notifications.html">Push notification component</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Push-notifications-for-iOS-apps.html">Push notifications for iOS apps</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Push-notifications-for-Android-apps.html">Push notifications for Android apps</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Storage-component.html">Storage component</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Storage-component-REST-API.html">Storage component REST API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Storage-example.html">Storage component example</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Third-party-login-using-Passport.html">Passport login component</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Configuring-providers.json.html">Configuring providers.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-third-party-login.html">Tutorial: third-party login</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Synchronization.html">Synchronization component</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-Offline-Synchronization.html">Tutorial: Offline Synchronization</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Advanced-topics-sync.html">Advanced topics - sync</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Creating-components.html">Creating components</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Command-line-tools.html">コマンドラインツール</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="ACL-generator.html">ACL generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="API-definition-generator.html">API 定義生成ツール</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Application-generator.html">Application generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Bluemix-config-generator.html">Bluemix configuration generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Boot-script-generator.html">Boot script generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Data-source-generator.html">Data source generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Middleware-generator.html">Middleware generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Model-generator.html">Model generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Oracle-installer-command.html">Oracle installer command</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Property-generator.html">Property generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Refresh-definitions-command.html">Refresh definitions command</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Relation-generator.html">Relation generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Remote-method-generator.html">Remote method generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="SOAP-generator.html">SOAP generator</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Swagger-generator.html">Swagger 生成ツール</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Client-SDKs.html">Client SDKs</a>
      
      <ul class="nav-list">
          

  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="iOS-SDK.html">iOS SDK</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="IOS-getting-started.html">Getting started with the iOS SDK</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Android-SDK.html">Android SDK</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Tutorial-android-getting-started.html">Getting started with the Android SDK</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Working-with-files-using-the-Android-SDK.html">Working with files using the Android SDK</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Push-notifications-using-Android-SDK.html">Push notifications using Android SDK</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Working-with-the-LocalInstallation-class.html">Working with the LocalInstallation class</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="AngularJS-JavaScript-SDK.html">AngularJS SDK</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Angular-example-app.html">Angular example app</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="AngularJS-Grunt-plugin.html">AngularJS Grunt plugin</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Xamarin-SDK.html">Xamarin SDK</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Xamarin-client-API.html">Xamarin client API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Xamarin-example-app.html">Xamarin example app</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="LoopBack-in-the-client.html">Isomorphic LoopBack</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Running-LoopBack-in-the-browser.html">Running LoopBack in the browser</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-Browserify.html">Using Browserify</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Isomorphic-LoopBack-example.html">Isomorphic example</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Connectors-reference.html">Connectors reference</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Memory-connector.html">Memory connector</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Database-connectors.html">Database connectors</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Cassandra-connector.html">Cassandra connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Cloudant-connector.html">Cloudant connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="DashDB.html">DashDB</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="DB2-connector.html">DB2 connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="DB2-iSeries-connector.html">DB2 for iSeries connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="DB2-for-z-OS.html">DB2 for z/OS</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Informix.html">Informix connector</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="MongoDB-connector.html">MongoDB connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-MongoDB.html">MongoDB Connector Tutorial</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Using-MongoLab.html">Using MongoLab</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="MySQL-connector.html">MySQL connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-MySQL.html">MySQL Connector Tutorial</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Oracle-connector.html">Oracle connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Installing-the-Oracle-connector.html">Installing the Oracle connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-Oracle.html">Oracle connector tutorial</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="PostgreSQL-connector.html">PostgreSQL connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-PostgreSQL.html">PostgreSQL connector tutorial</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Redis-connector.html">Redis connector</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="kv-redis-connector.html">Redis key-value connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Example-kv-connector.html">KV connector example</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="SQL-Server-connector.html">SQL Server connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-Microsoft-SQL-Server.html">SQL Server connector tutorial</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="SQLite3.html">SQLite3 connector</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Other-connectors.html">Other connectors</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Email-connector.html">Email connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="JSON-RPC-connector.html">JSON RPC connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="MQLight-connector.html">MQ Light connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Push-connector.html">Push connector</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Remote-connector.html">Remote connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Remote-connector-example.html">Remote connector example</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Strong-Remoting.html">Strong Remoting</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="REST-connector.html">REST connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="REST-connector-example.html">REST connector example</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="SOAP-connector.html">SOAP connector</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Strong-soap.html">Strong-soap</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="SOAP-Connector-example.html">SOAP connector example</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connecting-to-SOAP.html">Connecting to SOAP web services</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Storage-connector.html">Storage connector</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Swagger-connector.html">Swagger connector</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Community-connectors.html">Community connectors</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Project-layout-reference.html">Project layout reference</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="client-directory.html">client directory</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="common-directory.html">common directory</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Model-definition-JSON-file.html">Model definition JSON file</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Model-extension-file.html">Model extension file</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="package.json.html">package.json</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="server-directory.html">server directory</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="component-config.json.html">component-config.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="config.json.html">config.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="datasources.json.html">datasources.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="middleware.json.html">middleware.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="middleware.development.json.html">middleware.development.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="model-config.json.html">model-config.json</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="server.js.html">server.js</a>
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Node-reference.html">Node reference</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="LoopBack-types.html">LoopBack types</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Geotype.html">Geopoint type</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Valid-names-in-LoopBack.html">Valid names in LoopBack</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Basic-model-object.html">Basic model object</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Connected-model-object.html">Connected model object</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Error-object.html">Error object</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="LoopBack-middleware.html">LoopBack middleware</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Publish-subscribe-messaging.html">Publish-subscribe messaging</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Strong-pub-sub.html">Strong Pub-sub</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Pub-sub-bridge.html">Pub-sub bridge</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="MQTT-adapter.html">MQTT adapter</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Redis-pub-sub-adapter.html">Redis pub-sub adapter</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Primus-pub-sub-adapter.html">Primus pub-sub adapter</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Pub-sub-example.html">Node pub-sub example app</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Pub-sub-Loopback-example.html">LoopBack pub-sub example app</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="All-tags.html">All tags</a>
      
  </li>
  



</ul>

        </nav>
        <!-- Content Column -->
        <div class="col-md-9">
            
<div class="post-header">
   <h1 class="post-title-main">認証・認可・パーミッション</h1>
   
     
       <a target="_blank" href="https://github.com/strongloop/loopback.io/blob/gh-pages/pages/ja/lb3/Authentication-authorization-and-permissions.md" class="githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit this page</a>
   
</div>

<div class="post-content">


  
   <div class="summary">
     LoopBack は組み込みのトークンに基づく認証が含まれています。
   </div>
  



  
  
<div id="seealso">

  <p><b>See also</b>:</p>

  <ul>
    <li>
      <p><a href="Managing-users.html">Managing users</a></p>
    </li>
    <li>
      <p><a href="Logging-in-users.html">Logging in users</a></p>
    </li>
    <li>
      <p><a href="Third-party-login-using-Passport.html">Third-party login using Passport</a></p>
    </li>
    <li>
      <p><a href="User-management-example.html">User management example</a></p>
    </li>
    <li>
      <p><a href="Tutorial-third-party-login.html">Tutorial: third-party login</a></p>
    </li>
  </ul>

</div>




 
   
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
;$(function() {
  var level = parseInt(2, 10);
  if (level === 1) {level = 'h2'}
  if (level === 2) {level = 'h2,h3'}
  if (level === 3) {level = 'h2,h3,h4'}
  if (level === 4) {level = 'h2,h3,h4,h5'}

  // Add a new level for changelog files which use h1,h2,h3
  if (level === 0) {level = 'h1,h2,h3,h4,h5'}

  var toc = $('#toc')

  toc.toc({minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: level})

  /* this offset helps with the space taken up by the floating toolbar */
  toc.on('click', 'a', function() {
    var target = $(this.getAttribute('href')),
      scroll_target = target.offset().top

    $(window).scrollTop(scroll_target - 10)
    return false
  })
  .on('click', '.toc-expand-button', function() {
    toc.find('> ul').slideToggle('fast');
  })
})
</script>

<div id="toc">
  <span class="toc-title">Page Contents</span>
  <button type="button" class="btn btn-link toc-expand-button">
    <i class="fa fa-bars"></i>
  </button>
</div>

 

    
  <p>多くのアプリケーションは、誰（何）がデータにアクセスしたりサービスを呼出したりできるのかを制御する必要があります。
一般的に、これは保護されたデータにアクセスするために、ユーザにログインを求めたり、アプリケーションに認証トークンを求めたりすることを含みます。</p>

<p>LoopBackのアクセス制御の実装に関する単純な例は、GitHubの
<a href="https://github.com/strongloop/loopback-example-access-control">loopback-example-access-control</a> リポジトリを参照してください。</p>

<p>LoopBack アプリケーションはモデル（<a href="Defining-models.html">モデルの定義</a>を参照）を通じてデータにアクセスするため、
データへのアクセス制御は、モデルに制限を加えることを意味します。
つまり、誰または何がデータを読み書きできるのか、モデルのメソッドを実行できるのか指定する、ということです。</p>

<h2 id="アクセス制御の概念">アクセス制御の概念</h2>

<p>LoopBackのアクセス制御システムは、幾つかの核となる概念から構成されています。以下の表にまとめます。</p>

<table>
  <thead>
    <tr>
      <th>用語       </th>
      <th>説明</th>
      <th>責任</th>
      <th>例</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>プリンシパル</td>
      <td>識別されたり認証されたりできる実体</td>
      <td>保護されたリソースへの要求のIDを表します。</td>
      <td>ユーザー <br /> アプリケーション <br /> ロール (ロールもまたプリンシパルであることに注意してください)</td>
    </tr>
    <tr>
      <td>ロール</td>
      <td>同じパーミッションを持つプリンシパルのグループ</td>
      <td>プリンシパルを扱いやすくグループにまとめる。</td>
      <td><strong>動的ロール</strong>: <br /><code class="language-plaintext highlighter-rouge">$everyone</code> (すべてのユーザー) <br /><code class="language-plaintext highlighter-rouge">$unauthenticated</code> (認証されていないユーザー) <br /> <code class="language-plaintext highlighter-rouge">$owner</code> (モデルのインスタンスを所有するプリンシパル), 可能ならば、<br />  ◦ <code class="language-plaintext highlighter-rouge">userId</code> と呼ばれる単純なID<br />  ◦ <code class="language-plaintext highlighter-rouge">owner</code> と呼ばれる単純なプロパティ<br />  ◦ Userを拡張したモデルとの関係 <br /><br /> <strong>静的ロール</strong>: 管理者 (管理者向けに定義されたロール)</td>
    </tr>
    <tr>
      <td>ロールマッピング</td>
      <td>ロールに割り当てたプリンシパル</td>
      <td>ロールに静的に割り当てたプリンシパル</td>
      <td>ID 1 のユーザをロール 1 に割り当てる<br /> 「管理者」ロールをロール 1 に割り当てる</td>
    </tr>
    <tr>
      <td>ACL</td>
      <td>アクセス制御リスト</td>
      <td>プリンシパルがモデルに対して幾つかの操作を行えるか制御するもの</td>
      <td>project モデルに対する全ユーザのアクセスを拒否する<br /> 「管理者」ロールに、project モデルに対する <code class="language-plaintext highlighter-rouge">find()</code> メソッドの実行を許可する</td>
    </tr>
  </tbody>
</table>

<h2 id="一般的な手続き">一般的な手続き</h2>

<p>アプリケーションにアクセス制御を実装する一般的な手続きは以下のとおりです。</p>

<ol>
  <li><strong>認証の実装</strong>
アプリケーションにおいて、新しいユーザーを作成（登録）し、ユーザーがログイン（認証トークンを取得・使用）し、ユーザがログアウトするコードを追加します。</li>
  <li><strong>ユーザーロールの設定</strong>
アプリケーションが必要とするユーザーのロールを定義します。
例えば、匿名ユーザー・認証済みユーザー・グループメンバー・管理者のようなロールを作るかもしれません。</li>
  <li><strong>各ロール・モデルのメソッドについて、アクセス可能かどうかを決める</strong>.
例えば、匿名ユーザーには銀行のリストを読み取ることを許可して、他はすべて禁止するかもしれません。
LoopBackのモデルは、組み込みのメソッド一式を持っており、それぞれのメソッドは、読み取りまたは書き込みのどちらかのアクセス種別に当たります。
本質的には、このステップでは各ロールと各モデルのアクセス種別ごとに、どのアクセスが許可されるかを指定する事になります。後ほど例を示します。<br /><br />
    注：アクセス権を特定のユーザーやアプリケーションに直接割り当てることもできます。</li>
  <li><strong>ユーザーのアクセス制御をセットアップします</strong>.  以下のいずれか一つを実施します。
    <ul>
      <li>ロールモデルを使って事前に作成したロールに、ユーザを静的に割り当てる。詳細は、<a href="Defining-and-using-roles.html#static-roles">静的ロール</a>を参照。</li>
      <li>事前に設定された条件に基づいて、ユーザがロールを持つかどうかを実行時に解決する、動的ロールリゾルバを登録するコードを追加する。詳細は、<a href="Defining-and-using-roles.html#dynamic-roles">動的ロール</a>を参照。</li>
    </ul>
  </li>
</ol>

<h2 id="初期セットアップ">初期セットアップ</h2>

<h3 id="アクセス制御を有効にする">アクセス制御を有効にする</h3>

<p>LoopBackの<a href="Application-generator.html">アプリケーション生成ツール</a>で作成したアプリケーションは、
アプリケーション種別に「空のサーバ」を選んだ場合を <em>除き</em> 、既定でアクセス制御が有効になっています。
「空のサーバ」アプリケーションで、アクセス制御を有効にするには、起動スクリプトで
<a href="https://apidocs.loopback.io/loopback/#app-enableauth"><code class="language-plaintext highlighter-rouge">enableAuth()</code></a>を呼び出すようにします。</p>

<div id="server/boot/authentication.js" class="code-caption">
  <p>server/boot/authentication.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">enableAuthentication</span><span class="p">(</span><span class="nx">server</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">server</span><span class="p">.</span><span class="nx">enableAuth</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="アクセス制御モデルを準備する">アクセス制御モデルを準備する</h3>

<p>セットアップするには、<code class="language-plaintext highlighter-rouge">User</code>モデルを（そしておそらくは<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルも）設定しなければなりません。</p>

<p>ベストプラクティスは、組み込みの<code class="language-plaintext highlighter-rouge">User</code>モデルをそのまま使うのではなく、<a href="Using-built-in-models.html#user-model">組み込みモデルの利用</a> にあるように、
それを拡張した独自ユーザモデルを少なくとも１つ実装することです。</p>

<p>通常、組み込みの<code class="language-plaintext highlighter-rouge">Role</code>・<code class="language-plaintext highlighter-rouge">RoleMapping</code>・<code class="language-plaintext highlighter-rouge">ACL</code>モデルを拡張したりカスタマイズしたりする必要はありません。<code class="language-plaintext highlighter-rouge">model-config.json</code> 設定ファイルで
それらが宣言されていることを確認してください。<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルをカスタマイズする必要がなければ、<code class="language-plaintext highlighter-rouge">enableAuth()</code>メソッドにデータソースを渡してください。</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">server</span><span class="p">.</span><span class="nx">enableAuth</span><span class="p">({</span> <span class="na">datasource</span><span class="p">:</span> <span class="dl">'</span><span class="s1">db</span><span class="dl">'</span> <span class="p">});</span>
</code></pre></div></div>

<div class="alert alert-info" role="alert">
  <p><i class="fa fa-info-circle"></i>
<b>Note:</b>
ここで示したように<code class="language-plaintext highlighter-rouge">datasource</code>を<code class="language-plaintext highlighter-rouge">enableAuth()</code>メソッドに渡すと、LoopBackがアクセス制御機能に必要な組み込みモデルが全て揃っているかを確認できます。多くのアプリケーションにおいてこれは適切な動作です。</p>

</div>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i>
  <b>Tip:</b> 組み込みの<code class="language-plaintext highlighter-rouge">User</code>モデルを拡張したモデルをいくつ使うかによって、以下に示すように、組み込みの <code class="language-plaintext highlighter-rouge">AccessToken</code> モデルを使うことも、<code class="language-plaintext highlighter-rouge">AccessToken</code>を拡張した独自モデルを使うこともできます。</p>

</div>

<h4 id="単一ユーザモデルによるアクセス制御">単一ユーザモデルによるアクセス制御</h4>

<p>最も一般的なシナリオでは、アプリケーションは組み込みの<code class="language-plaintext highlighter-rouge">User</code>モデルを拡張したモデルをひとつだけと、組み込みの<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルを使います。
この場合、組み込み<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルの「belongsTo」関係を、独自のユーザモデルを参照するように変更する必要があります。
これを行うには、以下のように<code class="language-plaintext highlighter-rouge">server/model-config.json</code>ファイルを編集してください。</p>

<div id="server/model-config.json" class="code-caption">
  <p>server/model-config.json</p>
</div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nl">"AccessToken"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"dataSource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"relations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"belongsTo"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"foreignKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userId"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i>
  <b>Tip:</b> モデルを拡張したとき、モデルの関係は保存されます。従って、独自の<code class="language-plaintext highlighter-rouge">User</code>モデルも自動的に、既定の<code class="language-plaintext highlighter-rouge">AccessToken</code> モデルと
hasMany 関係を持ちます。</p>

</div>

<h5 id="accesstokenモデルのカスタマイズ">AccessTokenモデルのカスタマイズ</h5>

<p><code class="language-plaintext highlighter-rouge">AccessToken</code>モデルをカスタマイズする必要がある場合、例えば追加のプロパティを増やしたいときなどは、
認証のために新しい<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルを使うように<code class="language-plaintext highlighter-rouge">User</code>モデルを変更する必要があります。</p>

<p>独自の<code class="language-plaintext highlighter-rouge">User</code>モデル定義ファイルにおいて、<code class="language-plaintext highlighter-rouge">relations</code>セクションの「accessTokens」関係が独自の<code class="language-plaintext highlighter-rouge">AccessToken</code>モデルを使うように設定してください。</p>

<div id="common/models/custom-user.json" class="code-caption">
  <p>common/models/custom-user.json</p>
</div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomUser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nl">"relations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accessTokens"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hasMany"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AccessToken"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"foreignKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userId"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"disableInclude"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="複数のユーザーモデルを使ったアクセス制御">複数のユーザーモデルを使ったアクセス制御</h4>

<p>全く異なるタイプのユーザーがいるアプリケーションでは、複数のユーザーモデルを必要とするかもしれません。</p>

<p>ユーザーの違いが、幾つかのプロパティにとどまるのであれば、必要なプロパティを全て持つ単一の独自ユーザーモデルを上書きして、ユーザー種別ごとに静的ロールを
割り当ててアクセス制御の振る舞いの違いを表すのが最も簡単な方法です。</p>

<p>しかし、異なるアクセス権や他のモデルとの関係が異なっていたり、それぞれのプロパティがかけ離れている場合など、複数の独立したユーザーモデルが必要になるかもしれません。たとえば、組織の概念が関係するアプリケーションでは、関係の絡み合った階層やアクセス制御を作成するでしょう。</p>

<p>以下のような例を考えます。</p>

<ul>
  <li><strong>アプリケーション</strong> には複数の<code class="language-plaintext highlighter-rouge">Users</code>が属する。<em>app-admins, app-managers, app-auditors, など</em></li>
  <li><strong>アプリケーション</strong> には複数の組織が属する。</li>
  <li><strong>組織</strong> には複数の <code class="language-plaintext highlighter-rouge">Users</code> が属する。 <em>org-admins, org-managers, org-marketing, org-sales</em></li>
  <li><strong>組織</strong> には複数の顧客 (<code class="language-plaintext highlighter-rouge">Users</code>でもある) が属する。</li>
</ul>

<p>このようなアプリケーションでは３つの異なるユーザー種別が必要です。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">App-Managers</code></li>
  <li><code class="language-plaintext highlighter-rouge">Org-Managers</code></li>
  <li><code class="language-plaintext highlighter-rouge">Org-Customers</code></li>
</ul>

<p>それぞれのユーザー種別は、アプリケーションを構成するモデルと異なる関係を持ち、異なるアクセス権を持ちます。</p>

<h5 id="セットアップ">セットアップ</h5>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b>
  When using multiple user models, you should not let LoopBack auto-attach built-in models required by the access control feature.  Instead, call the <code class="language-plaintext highlighter-rouge">enableAuth()</code> method with no argument and manually define all models required in the <code class="language-plaintext highlighter-rouge">server/model-config.json</code> configuration file.</p>

</div>

<p>To use several models extending the built-in <code class="language-plaintext highlighter-rouge">User</code> model, you must modify the relations between the <code class="language-plaintext highlighter-rouge">users</code> models and the <code class="language-plaintext highlighter-rouge">AccessToken</code> models to allow a single <code class="language-plaintext highlighter-rouge">AccessToken</code> model to host access tokens for multiple types of users while at the same time allowing each <code class="language-plaintext highlighter-rouge">user</code> model instance to be linked to unique related access tokens.</p>

<p>This is achieved by changing the <strong>hasMany</strong> relation from <code class="language-plaintext highlighter-rouge">User</code> to <code class="language-plaintext highlighter-rouge">AccessToken</code> and the <strong>belongsTo</strong> relation from <code class="language-plaintext highlighter-rouge">AccessToken</code> to <code class="language-plaintext highlighter-rouge">User</code> by their <a href="Polymorphic-relations.html">polymorphic</a> equivalents, in which the <code class="language-plaintext highlighter-rouge">principalType</code> property is used as a <em>discriminator</em> to resolve which of the potential <code class="language-plaintext highlighter-rouge">user</code> model instance an ‘accessToken’ instance belongs to. In addition to having custom user models this requires you also define a <strong>custom AccessToken</strong> model extending the built-in <code class="language-plaintext highlighter-rouge">AccessToken</code> model.</p>

<div class="alert alert-info" role="alert">
  <p><i class="fa fa-info-circle"></i>
<b>Note:</b>
Adapt the following configuration snippets in your custom <code class="language-plaintext highlighter-rouge">users</code> and <code class="language-plaintext highlighter-rouge">accessToken</code> model definitions.</p>

</div>

<div id="common/models/any-custom-user.json" class="code-caption">
  <p>common/models/any-custom-user.json</p>
</div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AnyCustomUser"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">..</span><span class="w">
  </span><span class="nl">"relations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"accessTokens"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hasMany"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomAccessToken"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"polymorphic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"foreignKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userId"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"discriminator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"principalType"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"disableInclude"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">..</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">...</span><span class="w">
</span></code></pre></div></div>

<div id="common/models/custom-access-token.json" class="code-caption">
  <p>common/models/custom-access-token.json</p>
</div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomAccessToken"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AccessToken"</span><span class="p">,</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">..</span><span class="w">
  </span><span class="nl">"relations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"belongsTo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"idName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"polymorphic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"idType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"foreignKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"userId"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"discriminator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"principalType"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>In particular, pay attention to:</p>

  <ul>
    <li>The <code class="language-plaintext highlighter-rouge">model</code> name used to refer to the access token model in the different user models (here named “CustomAccessToken”)</li>
    <li>The <code class="language-plaintext highlighter-rouge">idName</code> used for the foreignKey in the access token model referring to the user instance (here named “id”)</li>
    <li>The <code class="language-plaintext highlighter-rouge">idType</code> used for this foreignKey, according to the type of connector used for the related user models (here using “string” for a MongoDB connector for example)</li>
    <li>Use “principalType” for the <code class="language-plaintext highlighter-rouge">discriminator</code> name. This is mandatory and cannot be changed</li>
  </ul>

</div>

<p>Don’t forget to specify the custom <code class="language-plaintext highlighter-rouge">accessToken</code> model as follows:</p>

<div id="server/middleware.json" class="code-caption">
  <p>server/middleware.json</p>
</div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="nl">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"loopback#token"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomAccessToken"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>Note</strong>: Alternatively, you can put these lines in the <code class="language-plaintext highlighter-rouge">server.js</code> file or in a boot script, once again paying attention to the <em>name</em> of the custom <code class="language-plaintext highlighter-rouge">accessToken</code> model.</p>

<div id="server/server.js" class="code-caption">
  <p>server/server.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">loopback</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">loopback</span><span class="dl">'</span><span class="p">);</span>
<span class="p">...</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">loopback</span><span class="p">.</span><span class="nx">token</span><span class="p">({</span>
  <span class="na">model</span><span class="p">:</span> <span class="nx">app</span><span class="p">.</span><span class="nx">models</span><span class="p">.</span><span class="nx">CustomAccessToken</span>
<span class="p">}));</span>
</code></pre></div></div>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i>
  <b>Tip:</b> From this point you should be able to use LoopBack access control over multiple user models extending the built-in <code class="language-plaintext highlighter-rouge">User</code> model, with barely no modification compared to the way you’re used to handle it with a single user model.</p>

</div>

<h5 id="methods-and-parameters-impacted-when-using-multiple-user-models">Methods and parameters impacted when using multiple user models</h5>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>Pay attention to the following methods and parameters impacted by the switch to multiple user models support.</p>

</div>

<p>Anytime a method is expecting the <strong>principalType</strong> for a principal of the <code class="language-plaintext highlighter-rouge">User</code> type (as-is or nested in an <a href="https://apidocs.loopback.io/loopback/#accesscontext">AccessContext</a> object), provide the name of the targeted <code class="language-plaintext highlighter-rouge">user</code> model name (e.g. <code class="language-plaintext highlighter-rouge">'oneCustomUserModelName'</code>) instead of the usual <code class="language-plaintext highlighter-rouge">Principal.USER</code> (or <code class="language-plaintext highlighter-rouge">'USER'</code>).<br />
Such methods include: <code class="language-plaintext highlighter-rouge">Role.getRoles()</code> and <code class="language-plaintext highlighter-rouge">Role.isInRole()</code>. For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Role</span><span class="p">.</span><span class="nx">getRoles</span><span class="p">({</span>
  <span class="na">principalType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">oneCustomUserModelName</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">principalId</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Role</code> instance method <code class="language-plaintext highlighter-rouge">Role.prototype.users()</code>: the method which return all the users mapped with a given role instance should now be called with the following syntax:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">roleInstance</span><span class="p">.</span><span class="nx">users</span><span class="p">({</span><span class="na">where</span><span class="p">:</span> <span class="p">{</span>
  <span class="na">principalType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">oneCustomUserModelName</span><span class="dl">'</span>
<span class="p">});</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">RoleMapping</code> static methods: these methods either accessed directly or through the relation <code class="language-plaintext highlighter-rouge">principals</code> of the <code class="language-plaintext highlighter-rouge">Role</code> model should also use the new <code class="language-plaintext highlighter-rouge">principalType</code> syntax, for example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">roleInstance</span><span class="p">.</span><span class="nx">principals</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
  <span class="na">principalType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">oneCustomUserModelName</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">principalId</span><span class="p">:</span> <span class="mi">123</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="exposing-and-hiding-models-methods-and-endpoints">Exposing and hiding models, methods, and endpoints</h2>

<p>To expose a model over REST, set the <code class="language-plaintext highlighter-rouge">public</code> property to true in <code class="language-plaintext highlighter-rouge">/server/model-config.json</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
  <span class="dl">"</span><span class="s2">Role</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">dataSource</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">db</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">public</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>
<span class="p">...</span>
</code></pre></div></div>

<h3 id="hiding-methods-and-rest-endpoints">Hiding methods and REST endpoints</h3>

<p>If you don’t want to expose certain create, retrieve, update, and delete operations, you can easily hide them by calling 
<a href="https://apidocs.loopback.io/loopback/#model-disableremotemethodbyname"><code class="language-plaintext highlighter-rouge">disableRemoteMethodByName()</code></a> on the model. 
For example, following the previous example, by convention custom model code would go in the file <code class="language-plaintext highlighter-rouge">common/models/location.js</code>.
You would add the following lines to “hide” one of the predefined remote methods:</p>

<div id="common/models/location.js" class="code-caption">
  <p>common/models/location.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">deleteById</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>Now the <code class="language-plaintext highlighter-rouge">deleteById()</code> operation and the corresponding REST endpoint will not be publicly available.</p>

<p>For a method on the prototype object, such as <code class="language-plaintext highlighter-rouge">updateAttributes()</code>:</p>

<div id="common/models/location.js" class="code-caption">
  <p>common/models/location.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">disableRemoteMethod</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.updateAttributes</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>Be sure to call <code class="language-plaintext highlighter-rouge">disableRemoteMethodByName()</code> on your own custom model, not one of the built-in models;
in the example below, for instance, the calls are <code class="language-plaintext highlighter-rouge">MyUser.disableRemoteMethodByName()</code> <em>not</em> <code class="language-plaintext highlighter-rouge">User.disableRemoteMethodByName()</code>.</p>

</div>

<p>Here’s an example of hiding all methods of the <code class="language-plaintext highlighter-rouge">MyUser</code> model, except for <code class="language-plaintext highlighter-rouge">login</code> and <code class="language-plaintext highlighter-rouge">logout</code>. It assumes <code class="language-plaintext highlighter-rouge">MyUser</code> is an extended built-in User model:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">upsert</span><span class="dl">"</span><span class="p">);</span>                               <span class="c1">// disables PATCH /MyUsers</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">find</span><span class="dl">"</span><span class="p">);</span>                                 <span class="c1">// disables GET /MyUsers</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">replaceOrCreate</span><span class="dl">"</span><span class="p">);</span>                      <span class="c1">// disables PUT /MyUsers</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">create</span><span class="dl">"</span><span class="p">);</span>                               <span class="c1">// disables POST /MyUsers</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">prototype.updateAttributes</span><span class="dl">"</span><span class="p">);</span>           <span class="c1">// disables PATCH /MyUsers/{id}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">findById</span><span class="dl">"</span><span class="p">);</span>                             <span class="c1">// disables GET /MyUsers/{id}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">exists</span><span class="dl">"</span><span class="p">);</span>                               <span class="c1">// disables HEAD /MyUsers/{id}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">replaceById</span><span class="dl">"</span><span class="p">);</span>                          <span class="c1">// disables PUT /MyUsers/{id}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">deleteById</span><span class="dl">"</span><span class="p">);</span>                           <span class="c1">// disables DELETE /MyUsers/{id}</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__get__accessTokens</span><span class="dl">'</span><span class="p">);</span>        <span class="c1">// disable GET /MyUsers/{id}/accessTokens</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__create__accessTokens</span><span class="dl">'</span><span class="p">);</span>     <span class="c1">// disable POST /MyUsers/{id}/accessTokens</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__delete__accessTokens</span><span class="dl">'</span><span class="p">);</span>     <span class="c1">// disable DELETE /MyUsers/{id}/accessTokens</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__findById__accessTokens</span><span class="dl">'</span><span class="p">);</span>   <span class="c1">// disable GET /MyUsers/{id}/accessTokens/{fk}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__updateById__accessTokens</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// disable PUT /MyUsers/{id}/accessTokens/{fk}</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__destroyById__accessTokens</span><span class="dl">'</span><span class="p">);</span><span class="c1">// disable DELETE /MyUsers/{id}/accessTokens/{fk}</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__count__accessTokens</span><span class="dl">'</span><span class="p">);</span>      <span class="c1">// disable  GET /MyUsers/{id}/accessTokens/count</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">prototype.verify</span><span class="dl">"</span><span class="p">);</span>                     <span class="c1">// disable POST /MyUsers/{id}/verify</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">changePassword</span><span class="dl">"</span><span class="p">);</span>                       <span class="c1">// disable POST /MyUsers/change-password</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">createChangeStream</span><span class="dl">"</span><span class="p">);</span>                   <span class="c1">// disable GET and POST /MyUsers/change-stream</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">confirm</span><span class="dl">"</span><span class="p">);</span>                              <span class="c1">// disables GET /MyUsers/confirm</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">count</span><span class="dl">"</span><span class="p">);</span>                                <span class="c1">// disables GET /MyUsers/count</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">findOne</span><span class="dl">"</span><span class="p">);</span>                              <span class="c1">// disables GET /MyUsers/findOne</span>

<span class="c1">//MyUser.disableRemoteMethodByName("login");                                // disables POST /MyUsers/login</span>
<span class="c1">//MyUser.disableRemoteMethodByName("logout");                               // disables POST /MyUsers/logout</span>

<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">resetPassword</span><span class="dl">"</span><span class="p">);</span>                        <span class="c1">// disables POST /MyUsers/reset</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">setPassword</span><span class="dl">"</span><span class="p">);</span>                          <span class="c1">// disables POST /MyUsers/reset-password</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">);</span>                               <span class="c1">// disables POST /MyUsers/update</span>
<span class="nx">MyUser</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">upsertWithWhere</span><span class="dl">"</span><span class="p">);</span>                      <span class="c1">// disables POST /MyUsers/upsertWithWhere</span>
</code></pre></div></div>

<h3 id="read-only-endpoints-example">Read-only endpoints example</h3>

<p>You may want to only expose read-only operations on your model; in other words hiding all operations that use HTTP POST, PUT, DELETE method.</p>

<p><strong>common/models/model.js</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">create</span><span class="dl">'</span><span class="p">);</span>		<span class="c1">// Removes (POST) /products</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">upsert</span><span class="dl">'</span><span class="p">);</span>		<span class="c1">// Removes (PUT) /products</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">deleteById</span><span class="dl">'</span><span class="p">);</span>	<span class="c1">// Removes (DELETE) /products/:id</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">updateAll</span><span class="dl">"</span><span class="p">);</span>		<span class="c1">// Removes (POST) /products/update</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">prototype.updateAttributes</span><span class="dl">"</span><span class="p">);</span> <span class="c1">// Removes (PUT) /products/:id</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">"</span><span class="s2">prototype.patchAttributes</span><span class="dl">"</span><span class="p">);</span>  <span class="c1">// Removes (PATCH) /products/:id</span>
<span class="nx">Product</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">createChangeStream</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// Removes (GET|POST) /products/change-stream</span>
</code></pre></div></div>

<h3 id="hiding-endpoints-for-related-models">Hiding endpoints for related models</h3>

<p>To disable REST endpoints for related model methods, use <a href="https://apidocs.loopback.io/loopback/#model-disableremotemethodbyname">disableRemoteMethodByName()</a>.</p>

<div class="alert alert-info" role="alert">
  <p><i class="fa fa-info-circle"></i>
<b>Note:</b>
For more information, see <a href="Accessing-related-models.html">Accessing related models</a>.</p>

</div>

<p>For example, if there are post and tag models, where a post hasMany tags, add the following code to <code class="language-plaintext highlighter-rouge">/common/models/post.js</code> 
to disable the remote methods for the related model and the corresponding REST endpoints: </p>

<div id="common/models/model.js" class="code-caption">
  <p>common/models/model.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Post</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">Post</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__get__tags</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">Post</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__create__tags</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">Post</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__destroyById__accessTokens</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// DELETE</span>
  <span class="nx">Post</span><span class="p">.</span><span class="nx">disableRemoteMethodByName</span><span class="p">(</span><span class="dl">'</span><span class="s1">prototype.__updateById__accessTokens</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// PUT</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="hiding-properties">Hiding properties</h3>

<p>To hide a property of a model exposed over REST, define a hidden property.
See <a href="Model-definition-JSON-file.html#hidden-properties">Model definition JSON file (Hidden properties)</a>.</p>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i> <b>Tip:</b>
hidden プロパティとprotected プロパティは微妙に異なります。</p>

  <ul>
    <li><code class="language-plaintext highlighter-rouge">hidden</code> determines whether a property is returned by a query directly against the model that contains the property.</li>
    <li><code class="language-plaintext highlighter-rouge">protected</code> determines whether a property is returned by a query against a model that has a relation to the model being queried.</li>
  </ul>

  <p>詳細は、<a href="Model-definition-JSON-file.html#hidden-properties">Hidden プロパティ</a>を参照ください。</p>

</div>





    <div class="tags">
      
        <b>Tags: </b>
        
        
          
            <a href="tag_authentication.html" class="tags-item" role="button">authentication</a>
            
        
      
    </div>
</div>

<hr class="shaded"/>

<footer id="container">
            <div class="row">
                <div class="col-md-6 footer-left">
               &copy;2021 IBM / StrongLoop. All rights reserved. <br />
 Site last generated: Mar 22, 2021
              </div>
              <div class="col-md-6 footer-right">
                <p><img src="https://loopback.io/images/company_logo.png" alt="Company logo"/></p>
              </div>
            </div>
</footer>


        </div>
        <!-- /.row -->
</div>
<!-- /.container -->
    </div>
</body>

</html>
