<!DOCTYPE html>
<head>
    

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="keywords" content=" LoopBack 4.0, LoopBack 4">
  <title>数据模型（Model） | LoopBack Documentation</title>
  <link rel="stylesheet" href="/css/syntax.css">

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/modern-business.css">
    <link rel="stylesheet" href="/css/lavish-bootstrap.css">
    <link rel="stylesheet" href="/css/customstyles.css">
    <link rel="stylesheet" href="/css/theme-v4.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150726441-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150726441-2');
</script>


    <!-- github star button -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js"></script>
    <script src="/js/toc.js"></script>
    <script src="/js/customscripts.js"></script>

    <link rel="shortcut icon" href="/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand no_icon" href="/doc/index.html">
              <img class="no_icon" style="width:147px;" src="/images/branding/logo/white/loopback.svg">&nbsp;<span class="projectTitle"></span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Docs<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://loopback.io/doc/en/lb4/apidocs.index.html" target="_blank">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="http://apidocs.loopback.io" target="_blank">LoopBack 3.x</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">View<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is / -->
                          
                            <li><a href="/">LoopBack Overview</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/lb4/ -->
                          
                            <li><a href="/doc/en/lb4/">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/lb3/ -->
                          
                            <li><a href="/doc/en/lb3/">LoopBack 3.x</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/lb2/ -->
                          
                            <li><a href="/doc/en/lb2/">LoopBack 2.x</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/community/ -->
                          
                            <li><a href="/doc/en/community/">Community projects</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/contrib/ -->
                          
                            <li><a href="/doc/en/contrib/">Contributing to LoopBack</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/en/sec/ -->
                          
                            <li><a href="/doc/en/sec/">Security advisories</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://github.com/strongloop/loopback.io" target="_blank">Docs Github Repo</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs-announcements" target="_blank">Announcements Mailing List</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs" target="_blank">Developer Forum</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw" target="_blank">LoopBack on Slack</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://stackoverflow.com/questions/tagged/strongloop+or+loopback4+or+loopbackjs" target="_blank">LoopBack on Stack Overflow</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is  -->
                          
                            <li><a href="https://strongloop.com/strongblog/tag_LoopBack.html" target="_blank">StrongLoop Blog - LoopBack</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Translations<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/es/lb2/ -->
                          
                            <li><a href="/doc/es/lb2/">Español (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/es/lb4/ -->
                          
                            <li><a href="/doc/es/lb4/">Español (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/fr/lb2/ -->
                          
                            <li><a href="/doc/fr/lb2/">Français (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/fr/lb4/ -->
                          
                            <li><a href="/doc/fr/lb4/">Français (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ko/lb2/ -->
                          
                            <li><a href="/doc/ko/lb2/">한국어 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ko/lb3/ -->
                          
                            <li><a href="/doc/ko/lb3/">한국어 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/pt-br/lb2/ -->
                          
                            <li><a href="/doc/pt-br/lb2/">Português (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/pt-br/lb4/ -->
                          
                            <li><a href="/doc/pt-br/lb4/">Português (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ja/lb2/ -->
                          
                            <li><a href="/doc/ja/lb2/">日本語 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ja/lb3/ -->
                          
                            <li><a href="/doc/ja/lb3/">日本語 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ja/lb4/ -->
                          
                            <li><a href="/doc/ja/lb4/">日本語 (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/ru/lb2/ -->
                          
                            <li><a href="/doc/ru/lb2/">Pусский (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/zh/lb2/ -->
                          
                            <li><a href="/doc/zh/lb2/">中文 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/zh/lb4/Model.html .... folderitem.url is /doc/zh/lb4/ -->
                          
                            <li class="dropdownActive"><a href="/doc/zh/lb4/">中文 (v4)</a></li>
                          
                        
                    </ul>
                </li>
                
                
                
                <li>
                    <form id="search" name="search" class="input-group lb-search" action="/search" method="GET">
                        <input type="text" class="form-control search-bar" placeholder="Search (powered by Watson)" name="q">
                        
                          <input type="hidden" name="sidebar" value="zh_lb4_sidebar">
                        
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-default" aria-label="search">
                              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                        </div>
                      </form>
                </li>
            </ul>
        </div>
      </div>
</nav>

<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <nav class="col-md-3 sidebar-col">
          











<!-- NOTE: sidebar = site.data.sidebars.mydoc_sidebar.entries -->
<div class="sidebarTitle"><a href="/doc/zh/lb4/index.html">LoopBack 4</a></div>
<ul id="mysidebar" class="nav-list">
  

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/index.html">总览</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Getting-started.html">入门</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Concepts.html">关键功能</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Application.html">应用（Application）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Server.html">服务器（Server）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Controllers.html">控制器（Controllers）</a>
      
  </li>
  


  
  <li class=" leaf-node  active">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Model.html">数据模型（Models）</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Relations.html">关系（Relations）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/HasMany-relation.html&title=HasMany（有很多）关系">HasMany（有很多）关系</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/BelongsTo-relation.html&title=BelongsTo（属于）关系">BelongsTo（属于）关系</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/hasOne-relation.html&title=HasOne（有一个）关系">HasOne（有一个）关系</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/DataSources.html">数据源（DataSources）</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Repositories.html&title=存储库（Repositories）">存储库（Repositories）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Using-database-transactions.html&title=数据库事务（Database Transactions）">数据库事务（Database Transactions）</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Interceptors.html&title=拦截器（Interceptors）">拦截器（Interceptors）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Life-cycle.html&title=生命周期事件（Life cycle events）和观察器（Observers）">生命周期事件（Life cycle events）和观察器（Observers）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Routes.html&title=路由（Routes）">路由（Routes）</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Sequence.html&title=时序（Sequence）">时序（Sequence）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Routing-requests.html&title=路由请求">路由请求</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Parsing-requests.html&title=解析请求">解析请求</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Decorators.html&title=修饰符（Decorators）">修饰符（Decorators）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Decorators_openapi.html&title=OpenAPI修饰符">OpenAPI修饰符</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Decorators_inject.html&title=注入依赖（Dependency Injection）修饰符">注入依赖（Dependency Injection）修饰符</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Decorators_authenticate.html&title=认证（Authentication）修饰符">认证（Authentication）修饰符</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Decorators_repository.html&title=存储库（Repository）修饰符">存储库（Repository）修饰符</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Error-handling.html&title=错误处理（Error handling）">错误处理（Error handling）</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Usage-scenarios.html&title=使用场景">使用场景</a>
      
      <ul class="nav-list">
          

  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Create-other-forms-of-apis.html&title=创建其他API表单">创建其他API表单</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/exposing-graphql-apis.html&title=暴露GraphQL API">暴露GraphQL API</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Access-databases.html&title=访问数据库">访问数据库</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Database-migrations.html&title=数据库迁移">数据库迁移</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Calling-other-APIs-and-web-services.html&title=调用其他服务">调用其他服务</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Integrate-with-infrastructures.html&title=集成基础服务">集成基础服务</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Loopback-component-authentication.html&title=认证（Authentication）">认证（Authentication）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Loopback-component-authorization.html&title=授权（Authorization）">授权（Authorization）</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Deployment.html&title=部署（Deployment）">部署（Deployment）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Deploying-to-IBM-Cloud.html&title=部署到IBM Cloud">部署到IBM Cloud</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/deploying_to_ibm_cloud_kubernetes.html&title=部署到IBM Cloud上的Kubernetes">部署到IBM Cloud上的Kubernetes</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/deploying-with-pm2-and-nginx.html&title=使用pm2和nginx部署">使用pm2和nginx部署</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Serving-static-files.html&title=提供静态文件">提供静态文件</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Behind-the-scene.html&title=场景后台">场景后台</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Context.html&title=上下文（Context）">上下文（Context）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Binding.html">绑定（Binding）</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Dependency-injection.html&title=依赖注入（Dependency Injection）">依赖注入（Dependency Injection）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Reserved-binding-keys.html&title=保留绑定键">保留绑定键</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Components.html&title=组件（Components）">组件（Components）</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Booting-an-Application.html&title=启动应用">启动应用</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Using-components.html&title=使用组件（Components）">使用组件（Components）</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Self-hosted-rest-api-explorer.html&title=自托管的REST API Explorer">自托管的REST API Explorer</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Loopback-component-authentication.html&title=认证（Authentication）">认证（Authentication）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Loopback-component-authorization.html&title=授权（Authorization）">授权（Authorization）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Boot-and-Mount-a-LoopBack-3-application.html&title=启动和挂载LoopBack 3应用">启动和挂载LoopBack 3应用</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Extending-LoopBack-4.html&title=扩展LoopBack 4">扩展LoopBack 4</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Creating-components.html&title=创建组件（Components）">创建组件（Components）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Creating-decorators.html&title=创建修饰符（Decorators）">创建修饰符（Decorators）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Creating-servers.html&title=创建服务器（Servers）">创建服务器（Servers）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Extension-point-and-extensions.html&title=扩展点（Extension point）和扩展(Extensions）">扩展点（Extension point）和扩展(Extensions）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Extending-request-body-parsing.html&title=扩展请求体分析（request body parsing）">扩展请求体分析（request body parsing）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Extension-life-cycle.html&title=扩展的生命周期">扩展的生命周期</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Testing-your-extension.html&title=测试你的扩展">测试你的扩展</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Crafting-LoopBack-4.html&title=LoopBack 4的创意">LoopBack 4的创意</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/Tutorials.html">教程</a>
      
      <ul class="nav-list">
          

  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial.html">Todo教程</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial-scaffolding.html">创建你的应用脚手架</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial-model.html">添加Todo模型</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial-datasource.html">添加一个数据源（Datasource）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial-repository.html">添加一个存储库（Repository）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="/doc/zh/lb4/todo-tutorial-controller.html">添加一个控制器（Controller）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-tutorial-putting-it-together.html&title=把它们放在一起">把它们放在一起</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-tutorial-geocoding-service.html&title=额外：集成地理编码（geo-coding）服务">额外：集成地理编码（geo-coding）服务</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-list-tutorial.html&title=TodoList教程">TodoList教程</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-list-tutorial-model.html&title=添加TodoList模型（Model）">添加TodoList模型（Model）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-list-tutorial-repository.html&title=添加TodoList存储库（Repository）">添加TodoList存储库（Repository）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-list-tutorial-controller.html&title=添加TodoList控制器（Controller）">添加TodoList控制器（Controller）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/todo-list-tutorial-sqldb.html&title=在关系型数据库（Relational Database）上运行">在关系型数据库（Relational Database）上运行</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial.html&title=SOAP Web Service教程">SOAP Web Service教程</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-web-service-overview.html&title=SOAP Web Service总览">SOAP Web Service总览</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-scaffolding.html&title=应用脚手架">应用脚手架</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-add-datasource.html&title=添加一个数据源（Datasource）">添加一个数据源（Datasource）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-add-service.html&title=添加一个服务（Service）">添加一个服务（Service）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-add-controller.html&title=添加一个控制器（Controller）">添加一个控制器（Controller）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/soap-calculator-tutorial-run-and-test.html&title=运行和测试">运行和测试</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/express-with-lb4-rest-tutorial.html&title=使用LoopBack REST API建立一个Express Application">使用LoopBack REST API建立一个Express Application</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Authentication-Tutorial.html&title=如何使用JWT认证（Authentication）确保你的LoopBack 4应用的安全性">如何使用JWT认证（Authentication）确保你的LoopBack 4应用的安全性</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Examples.html&title=示例代码">示例代码</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Command-line-interface.html&title=CLI参考">CLI参考</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Application-generator.html&title=应用（Application）生成器">应用（Application）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Controller-generator.html&title=控制器（Controller）生成器">控制器（Controller）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/DataSource-generator.html&title=数据源（DataSource）生成器">数据源（DataSource）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Model-generator.html&title=模型（Model）生成器">模型（Model）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Discovering-models.html&title=数据库优先的模型生成/模型发现（Model discovery）">数据库优先的模型生成/模型发现（Model discovery）</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Relation-generator.html&title=关系（Relation）生成器">关系（Relation）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Repository-generator.html&title=存储库（Repository）生成器">存储库（Repository）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Service-generator.html&title=服务（Service）生成器">服务（Service）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/OpenAPI-generator.html&title=OpenAPI生成器">OpenAPI生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Life-cycle-observer-generator.html&title=Life cycle observer（生命周期观察器）生成器">Life cycle observer（生命周期观察器）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Interceptor-generator.html&title=拦截器（Interceptor）生成器">拦截器（Interceptor）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Extension-generator.html&title=扩展（Extension）生成器">扩展（Extension）生成器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Download-examples.html&title=下载示例代码">下载示例代码</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connectors-reference.html&title=连接器（Connectors）参考">连接器（Connectors）参考</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Memory-connector.html&title=内存（Memory）连接器">内存（Memory）连接器</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Database-connectors.html&title=数据库（Database）连接器">数据库（Database）连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Cassandra-connector.html&title=Cassandra连接器">Cassandra连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Cloudant-connector.html&title=Cloudant连接器">Cloudant连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/DashDB.html&title=DashDB连接器">DashDB连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/DB2-connector.html&title=DB2连接器">DB2连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/DB2-iSeries-connector.html&title=DB2 for iSeries连接器">DB2 for iSeries连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/DB2-for-z-OS.html&title=DB2 for z/OS">DB2 for z/OS</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Informix.html&title=Informix连接器">Informix连接器</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/MongoDB-connector.html&title=MongoDB连接器">MongoDB连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-MongoDB.html&title=MongoDB连接器教程">MongoDB连接器教程</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Using-MongoLab.html&title=使用MongoLab">使用MongoLab</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/MySQL-connector.html&title=MySQL连接器">MySQL连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-MySQL.html&title=MySQL连接器教程">MySQL连接器教程</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Oracle-connector.html&title=Oracle连接器">Oracle连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Installing-the-Oracle-connector.html&title=安装Oracle连接器">安装Oracle连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-Oracle.html&title=Oracle连接器教程">Oracle连接器教程</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/PostgreSQL-connector.html&title=PostgreSQL连接器">PostgreSQL连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-PostgreSQL.html&title=PostgreSQL连接器教程">PostgreSQL连接器教程</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Redis-connector.html&title=Redis连接器">Redis连接器</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/kv-redis-connector.html&title=Redis键值对（key-value）连接器">Redis键值对（key-value）连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Example-kv-connector.html&title=键值对连接器示例">键值对连接器示例</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/SQL-Server-connector.html&title=微软SQL Server连接器">微软SQL Server连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-Microsoft-SQL-Server.html&title=微软SQL Server连接器教程">微软SQL Server连接器教程</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/SQLite3.html&title=SQLite3连接器">SQLite3连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/zOSconnectEE.html&title=z/OS企业版连接器">z/OS企业版连接器</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Other-connectors.html&title=其他连接器">其他连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Email-connector.html&title=电子邮件（Email）连接器">电子邮件（Email）连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/JSON-RPC-connector.html&title=JSON RPC连接器">JSON RPC连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/MQLight-connector.html&title=MQ Light连接器">MQ Light连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Push-connector.html&title=Push连接器">Push连接器</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Remote-connector.html&title=Remote连接器">Remote连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Remote-connector-example.html&title=Remote连接器教程">Remote连接器教程</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Strong-Remoting.html&title=Strong Remoting">Strong Remoting</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/REST-connector.html&title=REST连接器">REST连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/REST-connector-example.html&title=REST连接器示例">REST连接器示例</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/SOAP-connector.html&title=SOAP连接器">SOAP连接器</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Strong-soap.html&title=Strong-soap">Strong-soap</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/SOAP-Connector-example.html&title=SOAP连接器示例">SOAP连接器示例</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Connecting-to-SOAP.html&title=连接到SOAP web services">连接到SOAP web services</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Storage-connector.html&title=Storage连接器">Storage连接器</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Swagger-connector.html&title=Swagger连接器">Swagger连接器</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Community-connectors.html&title=Community连接器">Community连接器</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/apidocs.index.html&title=API文档">API文档</a>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/LoopBack-3.x.html&title=LoopBack 3.x用户请读">LoopBack 3.x用户请读</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Understanding-the-differences.html&title=理解LoopBack 3和LoopBack 4的不同">理解LoopBack 3和LoopBack 4的不同</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Migrating-from-LoopBack-3.html&title=从LoopBack 3迁移">从LoopBack 3迁移</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Best-practices.html&title=最佳实践">最佳实践</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Defining-the-API-using-code-first-approach.html&title=使用代码优先（code-first）方式定义API">使用代码优先（code-first）方式定义API</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Defining-your-testing-strategy.html&title=定义你的测试策略">定义你的测试策略</a>
      
  </li>
  


  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Testing-your-application.html&title=测试你的应用">测试你的应用</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/code-contrib-lb4.html&title=贡献LoopBack 4">贡献LoopBack 4</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/submitting_a_pr.html&title=提交pull request给LoopBack 4">提交pull request给LoopBack 4</a>
      
  </li>
  



      </ul>
      
  </li>
  


  
  <li class=" tree-parent  ">
     <a class="show-hide" href="#"></span> 
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Reference.html&title=参考">参考</a>
      
      <ul class="nav-list">
          

  
  <li class=" leaf-node  ">
    
    <a class="page-link" rel="nofollow" href="Not-yet-translated.html?url=/doc/zh/lb4/Deploy-for-GDPR-readiness.html&title=考虑GDPR准备情况">考虑GDPR准备情况</a>
      
  </li>
  



      </ul>
      
  </li>
  



</ul>

        </nav>
        <!-- Content Column -->
        <div class="col-md-9">
            
<div class="post-header">
   <h1 class="post-title-main">数据模型（Model）</h1>
   
     
       <a target="_blank" href="https://github.com/strongloop/loopback.io/blob/gh-pages/pages/zh/lb4/Model.md" class="githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit this page</a>
   
</div>

<div class="post-content">


  




 
   
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
;$(function() {
  var level = parseInt(3, 10);
  if (level === 1) {level = 'h2'}
  if (level === 2) {level = 'h2,h3'}
  if (level === 3) {level = 'h2,h3,h4'}
  if (level === 4) {level = 'h2,h3,h4,h5'}

  // Add a new level for changelog files which use h1,h2,h3
  if (level === 0) {level = 'h1,h2,h3,h4,h5'}

  var toc = $('#toc')

  toc.toc({minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: level})

  /* this offset helps with the space taken up by the floating toolbar */
  toc.on('click', 'a', function() {
    var target = $(this.getAttribute('href')),
      scroll_target = target.offset().top

    $(window).scrollTop(scroll_target - 10)
    return false
  })
  .on('click', '.toc-expand-button', function() {
    toc.find('> ul').slideToggle('fast');
  })
})
</script>

<div id="toc">
  <span class="toc-title">Page Contents</span>
  <button type="button" class="btn btn-link toc-expand-button">
    <i class="fa fa-bars"></i>
  </button>
</div>

 

    




  <div markdown="span" class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>This is a community translation into Chinese</b>. For the latest information, see the <a href="/doc/en/lb4/Model.html">English version</a>.
  </div>


<h2 id="总览">总览</h2>

<p>数据模型（Model）用于描述业务域对象，例如：<code class="language-plaintext highlighter-rouge">Customer</code>（客户），<code class="language-plaintext highlighter-rouge">Address</code>（地址），<code class="language-plaintext highlighter-rouge">Order</code>（订单）。它通常用使用名字、类型以及其他约束，来定义一系列属性（Property）。</p>

<div class="alert alert-info" role="alert">
  <p><i class="fa fa-info-circle"></i>
<b>Note:</b>
数据模型定义数据形状（Shape of data）。CRUD操作等行为会被存储库（Repository）添加。这与LoopBack 3.x中，在数据模型中实现行为不同。</p>
</div>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i>
  <b>Tip:</b> 一个数据模型可以被用于不同的存储库（Repository）</p>
</div>

<p>数据模型（Model）可以用于线上数据交换，也可以用于不同系统的数据交换。
例如，一个 JSON 对象符合<code class="language-plaintext highlighter-rouge">Customer</code>（客户）数据模型的定义，它可以在 REST/HTTP 负载中上传，以用于创建一个新的客户，或者存储到文档或数据库（例如 MongoDB）。数据模型的定义可以被映射到其他格式，例如：关系型数据库的架构（Schema）, XML 架构，JSON 架构，OpenAPI 架构，gRPC 信息（Message）定义，也可以从这些格式映射到数据模型。</p>

<p>数据模型的域对象有 2 种不同类型的：</p>

<ul>
  <li>值对象（Value Object）：没有标识（Identity、ID）的域对象。依据构造的值来判断是否等同。例如，<code class="language-plaintext highlighter-rouge">Address</code>（地址）可以被建模为一个值对象，因为当两个地址有同样的城市、街道名、街道号码、和邮政编码，那么它们是等同的。
示例如下：</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"streetNum"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"streetName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"zipCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>实体（Entity）：有标识（Identity、ID）的域对象。依据标识来判断是否等同。 例如，<code class="language-plaintext highlighter-rouge">Customer</code>可以被建模为一个实体，因为每个客户有一个唯一的标识（id）。<code class="language-plaintext highlighter-rouge">Customer</code>的两个拥有相同标识（id）的实例是相等的，因为它们引用自同一个客户。
示例如下：</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Customer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>目前，我们提供了<code class="language-plaintext highlighter-rouge">@loopback/repository</code>模块，它提供了一些特殊的修饰符，可以添加元数据到你的 TypeScript 或 JavaScript 类，用来实现传统的<a href="https://github.com/strongloop/loopback-datasource-juggler">数据源映射（Datasource Juggler）</a>。</p>

<h2 id="定义数据模型">定义数据模型</h2>

<p>作为其核心，LoopBack 中的数据模型，是一个简单的 JavaScript 类。</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">Customer</span> <span class="p">{</span>
  <span class="nl">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">isMember</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">cart</span><span class="p">:</span> <span class="nx">ShoppingCart</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>可扩展性，是 LoopBack 的核心特征。外部的包可以添加额外的特征，例如，与“映射桥（juggler bridge）”或“JSON 架构生成器”集成。通过<code class="language-plaintext highlighter-rouge">@loopback/repository</code>模块的<code class="language-plaintext highlighter-rouge">@model</code>和<code class="language-plaintext highlighter-rouge">@property</code>修饰符，使这些特征可以用于 LoopBack 数据模型。</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">property</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@loopback/repository</span><span class="dl">"</span><span class="p">;</span>

<span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">Customer</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">isMember</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">cart</span><span class="p">:</span> <span class="nx">ShoppingCart</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="数据模型发现model-discovery">数据模型发现（Model Discovery）</h2>

<p>通过探索（discovering）你的数据库架构，LoopBack 可以自动生成数据模型。
查阅<a href="Discovering-models.md">数据模型发现（Discovering models）</a>以了解更多信息，以及支持数据模型发现的连接器的列表。</p>

<h2 id="使用映射桥juggler-bridge">使用映射桥（Juggler Bridge）</h2>

<p>以如下方式定义一个使用映射桥的数据模型：从<code class="language-plaintext highlighter-rouge">Entity</code>（实体）扩展你的类，为域对象添加<code class="language-plaintext highlighter-rouge">@model</code>和<code class="language-plaintext highlighter-rouge">@property</code>修饰符。</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">property</span><span class="p">,</span> <span class="nx">Entity</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@loopback/repository</span><span class="dl">"</span><span class="p">;</span>

<span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">Product</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">The unique identifier for a product</span><span class="dl">"</span>
  <span class="p">})</span>
  <span class="nx">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">slug</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">data</span><span class="p">?:</span> <span class="nb">Partial</span><span class="o">&lt;</span><span class="nx">Product</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>数据模型主要以 TypeScript 的类定义。默认情况下，类禁止使用未指明类型定义的额外属性。持久层（Persistence Layer）尊抽这一约束，配置底层 PersistedModel（持久数据模型）类以强制<code class="language-plaintext highlighter-rouge">strict</code>模式。</p>

<p>创建一个既明确、又使用“任意额外属性”的数据模型，你需要通过 CLI 在数据模型设置中禁用<code class="language-plaintext highlighter-rouge">strict</code>模式，并且在数据模型的实例中告诉 TypeScript 允许“任意额外属性”。</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">({</span> <span class="na">settings</span><span class="p">:</span> <span class="p">{</span> <span class="na">strict</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}</span> <span class="p">})</span>
<span class="kd">class</span> <span class="nx">MyFlexibleModel</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
  <span class="nx">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>

  <span class="c1">// 在此处定义明确的属性。</span>

  <span class="c1">// 添加一个索引属性，以允许额外数据。</span>
  <span class="p">[</span><span class="nx">prop</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="数据模型修饰符">数据模型修饰符</h3>

<p>可以使用无参数的数据模型修饰符，也可以为修饰符传递 ModelDefinitionSyntax（数据模型定义语法）：</p>

<!-- 应当尽可能使用LoopBack 4版本替换此示例 -->
<!-- 依据 https://github.com/strongloop/loopback-datasource-juggler/blob/master/lib/model-builder.js#L283 和传统的映射文件。-->

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Category</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">settings</span><span class="p">:</span> <span class="p">{</span>
    <span class="c1">// 省略...</span>
  <span class="p">}</span>
  <span class="c1">// 在下面使用@property修饰符</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nx">Category</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="c1">// 省略...</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span> <span class="p">})</span>
  <span class="nx">categoryId</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>数据模型修饰符知道你的数据模型类的名字，你可以略去它。</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Product</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="c1">// 其他属性...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>然而，数据模型修饰符在 LoopBack 4 和 LoopBack 3 中不完全相同。
例如，在<a href="https://loopback.io/doc/zh/lb3/Model-definition-JSON-file.html">lb3</a>中，我们可以在数据模型修饰符中传递一个数据模型定义语法，就像属性、选项、关系等。但是这些项在 LooopBack 4 的数据模型修饰符中并不都是可用的。</p>

<!-- 当选项（options）可用时，修改此处 -->

<p>注意：在 LoopBack 4 中，我们当前在 ModelDefinitionSyntax 中仅支持<code class="language-plaintext highlighter-rouge">settings</code>。LoopBack 3 中的那些<code class="language-plaintext highlighter-rouge">top-level properties</code>（顶级属性）现在在<code class="language-plaintext highlighter-rouge">settings</code>中传递。</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">properties</code>现在在 <code class="language-plaintext highlighter-rouge">@property</code>修饰符中定义（查看下面内容以获得更多信息）。</li>
  <li>LoopBack 3 中的<a href="https://loopback.io/doc/zh/lb3/Model-definition-JSON-file.html#options"><code class="language-plaintext highlighter-rouge">options</code></a>，在 LoopBack 4 中，还没有映射特征。（查看<a href="https://github.com/strongloop/loopback-next/issues/2142">issue #2142</a>中的进一步讨论）</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">settings</code>的实体中，现在 LoopBack 4 支持下列内置实体：</p>

<h4 id="支持的-settings-实体">支持的 Settings 实体</h4>

<!-- 当我们有所改动时，下列实体可能需要更新:

  - description [在LB3中，我们支持数组或字符串，但是这里我们仅公开其支持字符串]
    这两项看起来在LB4中不工作。已经将其移至“不支持”表。
-->

<table>
  <thead>
  <tr>
    <th width="160">属性</th>
    <th width="100">类型</th>
    <th>默认</th>
    <th>描述</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td><code>description</code></td>
    <td>String</td>
    <td>None</td>
    <td>
    数据模型的描述（可选）。我们现在只支持字符串。（参见<a href="https://github.com/strongloop/loopback-next/issues/3428">issue #3428</a>的更多讨论。)
    </td>
  </tr>
  <tr>
    <td><code>forceId</code></td>
    <td>Boolean</td>
    <td><code>true</code></td>
    <td>如果为true，防止客户端手动设置为“自动生成ID”</td>
  </tr>
  <tr>
    <td><code>strict</code></td>
    <td>Boolean or String</td>
    <td><code>true</code>.<br /></td>
    <td>
      LB4中，此项默认设置为<code>true</code>。<br />
      此项用于指定数据模型是否仅接受预定义属性。可以为：
      <ul>
      <li><code>true</code>：仅接受模型中定义的属性。<br />
          当你希望确保数据模型仅接受预定义的属性时，使用此项。<br />
          如果你试图保存“带有未预先定义的属性”的数据模型实例时，LoopBack会抛出ValidationError（验证错误）。
      </li>
      <li><code>false</code>：开放数据模型，接受所有属性，包括未在数据模型中预先定义的属性。<br />
          此模式用于存储“自由格式”的JSON数据到无架构数据库（例如MongoDB）。
      </li>
      <li><code>"filter"</code>：仅接受模型中定义的属性，忽略其他。<br />
          当你读取或保存“带有未预先定义的属性”的数据模型时，LoopBack将忽略那些“未预先定义的属性”。<br />
          当你希望在“无脚本”迁移旧数据时不要丢失数据，此选项特别有用。
      </li>
      </ul>
    </td>
  </tr>
  <tr>
    <td><code>idInjection</code></td>
    <td>Boolean</td>
    <td><code>true</code></td>
    <td>是否自动为数据模型生成<code>id</code>属性：
    <ul>
    <li><code>true</code>：<code>id</code>属性会自动添加到数据模模型。这是默认值。</li>
    <li><code>false</code>: <code>id</code>属性不会自动添加到数据模型</li>。
    </ul>
    查阅<a href="#id-properties">ID属性</a>以了解更多详情。<code>options</code>中的<code>idInjection</code>属性（如有）有更高优先级。
    </td>
  </tr>
  <tr>
    <td><code>name</code></td>
    <td>String</td>
    <td>None</td>
    <td>数据模型的名字。</td>
  </tr>
  <tr>
    <td><code>scopes</code></td>
    <td>Object</td>
    <td>N/A</td>
    <td>查阅LB3文档：<a href="https://loopback.io/doc/zh/lb3/Model-definition-JSON-file.html#scopes">Scopes</a>。</td>
  </tr>
  </tbody>
</table>

<p>​</p>

<h4 id="不支持的-settings-实体">不支持的 Settings 实体</h4>

<!-- 当ACLS字段（field）可用时，请更新OPTIONS。 -->

<table>
  <thead>
    <tr>
      <th width="160">属性</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
  <tr>
    <td><code>acls</code></td>
    <td>
      （未定）
    </td>
  </tr>
  <tr>
      <td><code>base</code></td>
      <td>此项不再使用。LB4中，它以典型的JavaScript或TypeScript的类继承方式实现：
      <pre><code>@model() class MySuperModel extends MyBaseModel {...}</code>
      </pre>
      </td>
  </tr>
  <tr>
  <td><code>excludeBaseProperties</code></td>
  <td>（未定）</td>
  </tr>
  <tr>
  <td><code>http</code></td>
  <td>在LB3中，此项影响HTTP配置。因为在LB4中，HTTP配置由控制器（Controller）成员和REST服务器推断，此字段不再生效。</td>
  </tr>
  <tr>
    <td><code>options</code></td>
    <td>
      （未定），参见<a href="https://github.com/strongloop/loopback-next/issues/2142">issue #2142</a>的更多讨论。
    </td>
  </tr>
  <tr>
    <td><code>plural</code></td>
    <td>此项是LB3的HTTP配置的一部分。同上述<code>http</code>字段，不再生效。</td>
  </tr>
  <tr>
    <td><code>properties</code></td>
    <td>此项不再使用，因为我们在LB4中带来了<code>@property</code>修饰符。查看下面的<code>@property</code>修饰符以了解如何为你的数据模型定义属性（property）。</td>
  </tr>
  <tr>
    <td><code>relations</code></td>
    <td>
      参见说明 <a href="https://loopback.io/doc/zh/lb4/Repositories.html">repositories（存储库）</a>，在LB4中 关系（Relations）通过<code>relations</code>修饰符定义。<br />
      查阅<a href="https://loopback.io/doc/zh/lb4/Relations.html">Relations（关系）</a>了解更多详情
    </td>
  </tr>
  <tr>
    <td><code>remoting.<br />normalizeHttpPath</code></td>
    <td>此项是LB3的HTTP配置的一部分。同上述<code>http</code>字段，不再生效。</td>
  </tr>
  <tr>
    <td><code>replaceOnPUT</code></td>
    <td>此项不再受LB4控制器（Controller）脚手架支持，PUT总是会调用replaceById。<br />
        必要时，用户可以修改自动生成的代码以调用<code>patchById</code>。</td>
  </tr>
  </tbody>
</table>

<p>更多关于 LoopBack 4 中<code class="language-plaintext highlighter-rouge">Model Decorator</code>（数据模型修饰符）的信息，请查阅
<a href="https://github.com/strongloop/loopback-next/blob/2fa5df67181cdcd23a5dce90c9c640fe75943cb8/packages/repository/src/repositories/legacy-juggler-bridge.ts">legacy-juggler-bridge file</a>
和
<a href="https://github.com/strongloop/loopback-datasource-juggler/blob/master/lib/model-builder.js">model-builder file</a>.</p>

<h3 id="属性修饰符">属性修饰符</h3>

<!-- 此段翻译自LB3文档。[Model definition section](https://loopback.io/doc/zh/lb3/Model-definition-JSON-file.html#properties) -->

<p>属性修饰符与 LoopBack 3 的属性使用同样的参数。</p>

<p>对于每一个属性项，属性修饰符为它定义一些属性，示例如下：</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Product</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">The product's common name.</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span>
  <span class="p">})</span>
  <span class="k">public</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>

  <span class="p">@</span><span class="nd">property</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">id</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">})</span>
  <span class="nx">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="属性的基本属性">属性的基本属性</h4>

<p>每一个数据模型的属性，都有一些以关键字（Key）定义的属性用于描述，详见下表。只有<code class="language-plaintext highlighter-rouge">type</code>（类型）属性是必须的；对于只有<code class="language-plaintext highlighter-rouge">type</code>属性的属性，你可以使用下面示例的快速写法：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">propertyName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span>
</code></pre></div></div>

<p>例如：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="dl">"</span><span class="s2">emailVerified</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">boolean</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
<span class="p">...</span>
</code></pre></div></div>

<p>属性关键字列表：</p>

<table>
  <thead>
    <tr>
      <th width="100">关键字</th>
      <th width="50">必须?</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>    
    <tr>
      <td>default</td>
      <td>否</td>
      <td>Any*</td>
      <td>属性的默认值。 类型必须与<code>type</code>指定的类型相同。
      </td>
    </tr>
    <tr>
      <td>defaultFn</td>
      <td>否</td>
      <td>String</td>
      <td>用于生成属性默认值的函数名。必须是下列之一：
        <ul>
          <li>
            <code>"guid"</code>：生成一个新的全局唯一标识符（GUID），使用计算机MAC地址和当前时间（UUID v1）。
          </li>
          <li><code>"uuid"</code>：生成一个新的通用唯一标识符（UUID），使用计算机的MAC地址和当前时间（UUID v1）。</li>
          <li><code>"uuidv4"</code>：生成一个新的通用唯一标识符（UUID），使用UUID v4算法。</li>
          <li>"<code>now"</code>：使用<code>new Date()</code>返回的当前日期和时间。</li>
        </ul>
        注意：关于提供额外选项的讨论，请访问此GitHub议题<a href="https://github.com/strongloop/loopback/issues/292" class="external-link" rel="nofollow">LoopBack issue 292</a>。
      </td>
    </tr>
    <tr>
      <td>description</td>
      <td>否</td>
      <td>String或Array</td>
      <td>
        此属性的描述，用于生成文档。<br />
        你可以将较长的描述分解为字符串数组（每行一项），以控制每行的长度。例如：
        <pre>[
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit",
            "sed do eiusmod tempor incididunt ut labore et dolore",
            "magna aliqua."
            ]
        </pre>
      </td>
    </tr>
    <tr>
      <td>doc</td>
      <td>否</td>
      <td>String</td>
      <td>此属性的文档。<strong>以过期，使用<code>description</code>代替。</strong></td>
    </tr>
    <tr>
      <td>id</td>
      <td>否</td>
      <td>Boolean</td>
      <td>
        此属性是否为唯一标识符。默认为<code>false</code>。
        请查看下面的<code>Id</code>属性。
      </td>
    </tr>
    <tr>
      <td>index</td>
      <td>否</td>
      <td>Boolean</td>
      <td>此属性所代表的列（字段）是否为数据库的索引（Index）。</td>
    </tr>
    <tr>
      <td>required</td>
      <td>否</td>
      <td>Boolean</td>
      <td>
        此属性是否为“必须”。如果是<code>true</code>，那么新增或更新此数据模型实例时，需要提供此属性的值。<br />
        默认为<code>false</code>。
      </td>
    </tr>
    <tr>
      <td>
        type
      </td>
      <td>是</td>
      <td>
        String
      </td>
      <td>
        属性类型，可以为<a href="LoopBack-types.html">LoopBack类型</a>描述的任意类型。
      </td>
    </tr>
    <tr>
      <td>*</td>
      <td>否</td>
      <td>Any</td>
      <td>详情见后。</td>
    </tr>
  </tbody>
</table>

<h4 id="id-属性">ID 属性</h4>

<p>代表数据库中的持久数据的数据模型，通常有一个或多个 ID 属性，可以唯一标识出此数据库模型的每个实例。
例如：<code class="language-plaintext highlighter-rouge">user</code>数据模型可以包含用户的 ID（标识符）。</p>

<p>默认情况下，如果没有定义 ID 属性，同时<code class="language-plaintext highlighter-rouge">idInjection</code>属性为<code class="language-plaintext highlighter-rouge">true</code>（或者没有设置，<code class="language-plaintext highlighter-rouge">true</code> 是默认值），LoopBack 会自动为数据模型添加<code class="language-plaintext highlighter-rouge">id</code>属性，如下所示：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>id: {type: Number, generated: true, id: true}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">generated</code> 属性表明，此 ID 是否由数据库自动生成。
如果为<code class="language-plaintext highlighter-rouge">true</code>，连接器（Connector）将决定自动生成的 ID 的数据类型。对于关系型数据库来说（例如 Oracle 或 MySQL），它的默认类型是<code class="language-plaintext highlighter-rouge">number</code>。
如果你的应用会生成 ID，设置此属性为<code class="language-plaintext highlighter-rouge">false</code>。</p>

<p>为了明确指明某个属性是 ID，须设置此属性的<code class="language-plaintext highlighter-rouge">id</code>属性为<code class="language-plaintext highlighter-rouge">true</code>。<code class="language-plaintext highlighter-rouge">id</code>属性的值必须是下列之一：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">true</code>：此属性是一个 ID。</li>
  <li><code class="language-plaintext highlighter-rouge">false</code>（或者任何会被转换成 false 的值）：此属性不是一个 ID，此项为默认值。</li>
  <li>正整数（例如 1 或者 2）：此属性是一个复合 ID 的索引（index）。</li>
</ul>

<p>在数据库术语中，ID 属性是主键列。此类<code class="language-plaintext highlighter-rouge">id</code>属性被设置为<code class="language-plaintext highlighter-rouge">true</code>，或一个表示复合键顺序的正整数。</p>

<p>例如：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">myId</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>重要：</p>

<ol>
  <li>如果一个数据模型没有明确定义的 ID 属性，LoopBack 会自动注入一个名为“id”的属性作为标识符，除非<code class="language-plaintext highlighter-rouge">idInjection</code>选项被设置为<code class="language-plaintext highlighter-rouge">false</code>。</li>
  <li>如果一个 ID 属性的<code class="language-plaintext highlighter-rouge">generated</code>设置为<code class="language-plaintext highlighter-rouge">true</code>，连接器（Connector）将决定自动生成的 ID 的数据类型。对于关系型数据库来说（例如 Oracle 或 MySQL），它的默认类型是<code class="language-plaintext highlighter-rouge">number</code>。</li>
  <li>如果数据模型需要支持数据库，LoopBack 的 CRUD 方法需要此数据模型拥有一个“id”属性。</li>
  <li>没有任何“id”属性的数据模型，只能在无关数据库处使用。</li>
</ol>

<h4 id="复合-id">复合 ID</h4>

<p>LoopBack 支持定义由“多个属性”组成的复合 ID，示例如下：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">InventoryDefinition</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">productId</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="mi">1</span> <span class="p">},</span>
  <span class="na">locationId</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="na">id</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span>
  <span class="na">qty</span><span class="p">:</span> <span class="nb">Number</span>
<span class="p">};</span>
</code></pre></div></div>

<p>这个复合 ID 是(productId, locationId)，用于一个库存数据模型。</p>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b>
  复合ID现在不被REST API和DAO方法的查询参数（Query Parameter）支持，例如<code class="language-plaintext highlighter-rouge">findOrCreate</code>，<code class="language-plaintext highlighter-rouge">updateOrcreate</code>和<code class="language-plaintext highlighter-rouge">replaceOrCreate</code>。</p>
</div>

<h4 id="数据映射属性">数据映射属性</h4>

<p>当使用关系型数据库作为数据源时，你可以使用下列属性来描述数据库中的列。</p>

<table>
  <thead>
    <tr>
      <th>属性</th>
      <th>类型</th>
      <th>描述</th>
    </tr>
  </thead>    
  <tbody>    
    <tr>
      <td>columnName</td>
      <td>String</td>
      <td>列名</td>
    </tr>
    <tr>
      <td>dataType</td>
      <td>String</td>
      <td>数据库中定义的数据类型</td>
    </tr>
    <tr>
      <td>dataLength</td>
      <td>Number</td>
      <td>数据长度</td>
    </tr>
    <tr>
      <td>dataPrecision</td>
      <td>Number</td>
      <td>数字类数据的精度</td>
    </tr>
    <tr>
      <td>dataScale</td>
      <td>Number</td>
      <td>数字类数据的比例（缩放）</td>
    </tr>
    <tr>
      <td>nullable</td>
      <td>Boolean</td>
      <td>如果是<code>true</code>，数据可以为空。</td>
    </tr>
  </tbody>
</table>

<p>要映射一个属性到一个 Oracle 数据库的表的一列，示例如下：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">String</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">required</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">length</span><span class="dl">"</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">oracle</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">columnName</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">NAME</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">dataType</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VARCHAR2</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">dataLength</span><span class="dl">"</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">nullable</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Y</span><span class="dl">"</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">...</span>
</code></pre></div></div>

<div class="sl-hidden">
  <p><strong>非公开信息</strong><br />
  在此问题解决前暂时隐藏<a href="https://github.com/strongloop/loopback-datasource-juggler/issues/128" class="external-link" rel="nofollow">https://github.com/strongloop/loopback-datasource-juggler/issues/128</a></p>
  <p>数据转换和格式属性</p>
  <p>声明格式转换属性，如下表：</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;table&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;th&gt;关键字&lt;/th&gt;
        &lt;th&gt;类型&lt;/th&gt;
        &lt;th&gt;描述&lt;/th&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;trim&lt;/td&gt;
        &lt;td&gt;Boolean&lt;/td&gt;
        &lt;td&gt;是否修剪（Trim）字符串&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;lowercase&lt;/td&gt;
        &lt;td&gt;Boolean&lt;/td&gt;
        &lt;td&gt;是否转换字符串为小写&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;uppercase&lt;/td&gt;
        &lt;td&gt;Boolean&lt;/td&gt;
        &lt;td&gt;是否转换字符串为大写&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;format&lt;/td&gt;
        &lt;td&gt;Regular expression&lt;/td&gt;
        &lt;td&gt;正则表达式，用于格式化日期属性。&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/div&gt;
</code></pre></div>  </div>

  <h4 id="base-model">从基类数据模型（Base Model）排除属性</h4>

  <p>默认情况下，一个数据模型会继承基类数据模型的所有属性。要使某些基类属性不可见，你需要设置<code class="language-plaintext highlighter-rouge">excludeBaseProperties = ['property-be-excluded-from-base-model']</code>。
相较于此前使用的“设置基类属性为<code class="language-plaintext highlighter-rouge">null</code>或<code class="language-plaintext highlighter-rouge">false</code>”方式，更建议使用<code class="language-plaintext highlighter-rouge">excludeBaseProperties</code>这一方式。</p>

  <p>例如：</p>
  <div id="common/models/customer.json" class="code-caption">
    <p>common/models/customer.json</p>
  </div>

  <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="dl">"</span><span class="s2">base</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">excludeBaseProperties</span><span class="dl">"</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">lastUpdated</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">credentials</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">challenges</span><span class="dl">"</span><span class="p">],</span>
<span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div>  </div>

  <p>另一个示例：</p>

  <p>从基类“Model”排除“id”属性</p>

  <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="dl">"</span><span class="s2">base</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Model</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">excludeBaseProperties</span><span class="dl">"</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">],</span>
<span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div>  </div>

  <p>不推荐下列排除基类属性的方式——设置基类属性为<code class="language-plaintext highlighter-rouge">null</code>或<code class="language-plaintext highlighter-rouge">false</code>。建议使用<code class="language-plaintext highlighter-rouge">excludeBaseProperties</code>如上所示。</p>

  <div id="common/models/customer.json" class="code-caption">
    <p>common/models/customer.json</p>
  </div>

  <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="dl">"</span><span class="s2">base</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">User</span><span class="dl">"</span><span class="p">,</span>
<span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">lastUpdated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">credentials</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">challenges</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">modified</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">date</span><span class="dl">"</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div>  </div>

  <h4 id="section">隐藏属性</h4>

  <p>这些属性存储于数据库，在 JavaScript 和 TypeScript 代码中可用，可以通过 POST/PUT/PATCH 请求修改，但在响应体（response body，<code class="language-plaintext highlighter-rouge">.toJSON()</code>的输出）中被移除。</p>

  <p>使用<code class="language-plaintext highlighter-rouge">hiddenProperties</code>设置，以隐藏属性，示例如下：</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">({</span>
  <span class="na">settings</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hiddenProperties</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">password</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nx">MyUserModel</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span>
  <span class="nx">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
   <span class="p">@</span><span class="nd">property</span><span class="p">({</span><span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">})</span>
  <span class="nx">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
   <span class="p">@</span><span class="nd">property</span><span class="p">({</span><span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">})</span>
  <span class="nx">password</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <p>如果你想使用白名单控制返回字段，而不是黑名单，考虑以下方式：</p>

  <ul>
    <li>应用<code class="language-plaintext highlighter-rouge">fields</code>（字段）到数据模型的默认<code class="language-plaintext highlighter-rouge">scope</code>。
这将会操作数据库的响应层，以限制你检查数据库中字段的能力，以免暴露你不希望的内容给外界（例如：私有标志）。</li>
    <li>覆盖你的数据模型的<code class="language-plaintext highlighter-rouge">toJSON</code>方法。</li>
  </ul>

  <p>请参考白名单的相关讨论：<a href="https://github.com/strongloop/loopback/issues/1554">GitHub</a>.</p>

  <h4 id="section-1">受保护属性</h4>

  <p><code class="language-plaintext highlighter-rouge">protected</code>属性是一个字符串数组，数组中的每项都必须对应数据模型中定义的属性名。</p>

  <p>当 HTTP 响应 JSON 数据时，受保护的属性不会嵌套在其他对象中。
例如，有 Author（作者）对象和 Book（书籍）对象，Book 有属性关联到 Author，同时 Book 是一个公开的 API。
Author 数据模型包含一些个人信息（例如身份证号码）应当“受保护”（protected），以使得任何人在查阅书籍作者时，不会获得此类信息。</p>

  <!-- 译注：此处的“身份证号码”原文为“社保号码”，用于在美国证明身份，修改为“身份证号码”以符合中国习惯。 -->

  <div class="alert alert-success" role="alert">
    <p><i class="fa fa-check-square-o"></i> <b>Tip:</b>
Hidden and protected properties are subtly different.</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">hidden</code> determines whether a property is returned by a query directly against the model that contains the property.</li>
      <li><code class="language-plaintext highlighter-rouge">protected</code> determines whether a property is returned by a query against a model that has a relation to the model being queried.</li>
    </ul>

  </div>

  <p>这个示例设置 <code class="language-plaintext highlighter-rouge">email</code>属性为“受保护属性”：</p>

  <div id="common/models/user.json" class="code-caption">
    <p>common/models/user.json</p>
  </div>

  <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="p">...</span>
  <span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">required</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">protected</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <h4 id="section-2">验证属性</h4>

  <p>你可以在<code class="language-plaintext highlighter-rouge">jsonSchema</code>中，指定验证字段的规则，例如：</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Product</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">The product's common name.</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span>
    <span class="c1">// 在此定义JSON的验证规则</span>
    <span class="na">jsonSchema</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">maxLength</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
      <span class="na">minLength</span><span class="p">:</span> <span class="mi">10</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="k">public</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <p>请查阅此文档<a href="Parsing-requests.md#request-body">Parsing requests</a> 以了解它的工作详情。</p>

  <!-- NOTE(kjdelisle): Until we have a metadata docs section, link to the
package in the repository. -->

  <p>属性修饰符使用了 LoopBack 的<a href="https://github.com/strongloop/loopback-next/tree/master/packages/metadata">metadata（元数据）</a>包以确定特定属性的数据类型。</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Product</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="k">public</span> <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="c1">// 此属性的类型信息是string（字符串）</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <h3 id="array-property">数组属性（Array Property）修饰符</h3>

  <p>LoopBack 中，自动推测元数据的功能受到限制，因为 JavaScript 中数组的性质。在 JavaScript 中，数组不具有其成员的任何数据类型相关的信息，你可以检查数组的成员以确定它们是原始类型（string，number，array，boolean）对象或者函数，但当它们是对象或函数时，你无法获知任何细节。</p>

  <p>为了确保一致性，我们要求使用<code class="language-plaintext highlighter-rouge">@property.array</code>修饰符，来为你的数组属性添加适当的元数据，用于类型推断。</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Order</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">.</span><span class="nx">array</span><span class="p">(</span><span class="nx">Product</span><span class="p">)</span>
  <span class="nx">items</span><span class="p">:</span> <span class="nx">Product</span><span class="p">[];</span>
<span class="p">}</span>

<span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Thread</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="c1">// 注意，即使是原始类型，我们仍然需要设置数组属性！</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">.</span><span class="nx">array</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span>
  <span class="nx">posts</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <p>此外，<code class="language-plaintext highlighter-rouge">@property.array</code>修饰符接受可选的第二参数，用于定义或覆盖元数据， 用法与<code class="language-plaintext highlighter-rouge">@property</code>修饰符相同。</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Customer</span> <span class="kd">extends</span> <span class="nx">Entity</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">.</span><span class="nx">array</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">names</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">required</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">})</span>
  <span class="nx">aliases</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>
</code></pre></div>  </div>

  <h3 id="json-">JSON 架构推断</h3>

  <p>使用<code class="language-plaintext highlighter-rouge">@loopback/repository-json-schema</code>模块来从“已修饰”的数据模型构建 JSON 架构。类型信息从<code class="language-plaintext highlighter-rouge">@model</code>和<code class="language-plaintext highlighter-rouge">@property</code>修饰符中推断。<code class="language-plaintext highlighter-rouge">@loopback/repository-json-schema</code> 模块包括<code class="language-plaintext highlighter-rouge">getJsonSchema</code>函数用于访问修饰符存储的元数据，以构建与你的数据模型匹配的 JSON 架构。</p>

  <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">model</span><span class="p">,</span> <span class="nx">property</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@loopback/repository</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getJsonSchema</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@loopback/repository-json-schema</span><span class="dl">"</span><span class="p">;</span>

<span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Category</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="nd">model</span><span class="p">()</span>
<span class="kd">class</span> <span class="nx">Product</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">({</span> <span class="na">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
  <span class="nx">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">property</span><span class="p">()</span>
  <span class="kd">type</span><span class="p">:</span> <span class="nx">Category</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">jsonSchema</span> <span class="o">=</span> <span class="nx">getJsonSchema</span><span class="p">(</span><span class="nx">Product</span><span class="p">);</span>
</code></pre></div>  </div>

  <p>上述模型的<code class="language-plaintext highlighter-rouge">jsonSchema</code>会返回以下：</p>

  <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Product"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/definitions/Category"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"definitions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"Category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>  </div>

  <p>在数据模型定义中，如果一个已修饰的属性是一个自定义类型，那么一个引用<a href="http://json-schema.org/latest/json-schema-core.html#rfc.section.8"><code class="language-plaintext highlighter-rouge">$ref</code></a>字段会被创建，并且一个<code class="language-plaintext highlighter-rouge">definitions</code>子架构会被在顶级架构中创建。<code class="language-plaintext highlighter-rouge">definitions</code>子架构通过递归调用<code class="language-plaintext highlighter-rouge">getJsonSchema</code>来构建并填充它的属性。这允许复杂并且嵌套自定义类型的定义的构架。</p>

  <p>上述示例通过在<code class="language-plaintext highlighter-rouge">Product</code>数据模型中包含一个自定义类型的<code class="language-plaintext highlighter-rouge">Category</code>属性说明了这点。</p>

  <h4 id="json--1">支持的 JSON 关键字</h4>

  <div class="alert alert-info" role="alert">
    <p><i class="fa fa-info-circle"></i>
<b>Note:</b>
此功能仍然在开发中，尚未完成。</p>
  </div>

  <p>下列是支持的关键字列表，可以被明确地在修饰符中传递，以更好地剪裁生成的 JSON 架构：</p>

  <table>
    <thead>
      <tr>
        <th>关键字</th>
        <th>修饰符</th>
        <th>类型</th>
        <th>默认值</th>
        <th>描述</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>title</td>
        <td><code class="language-plaintext highlighter-rouge">@model</code></td>
        <td>string</td>
        <td><em>model name</em></td>
        <td>数据模型的名字</td>
      </tr>
      <tr>
        <td>description</td>
        <td><code class="language-plaintext highlighter-rouge">@model</code></td>
        <td>string</td>
        <td> </td>
        <td>数据模型的描述</td>
      </tr>
      <tr>
        <td>array</td>
        <td><code class="language-plaintext highlighter-rouge">@property</code></td>
        <td>boolean</td>
        <td> </td>
        <td>指明属性是否为数组</td>
      </tr>
      <tr>
        <td>required</td>
        <td><code class="language-plaintext highlighter-rouge">@property</code></td>
        <td>boolean</td>
        <td> </td>
        <td>指明属性是否为必须</td>
      </tr>
    </tbody>
  </table>

  <h2 id="orm">其他的 ORM（对象关系映射）</h2>

  <p>你可以决定在你的 LoopBack 应用中使用一个替代的 ORM 或 ODM。
在路由时，LoopBack 4 不再需要你使用它自定义的数据模型格式来提供你的数据，这意味着你可以自由修改你的类来切合那些 ORM 或 ODM。</p>

  <p>然而，这同样意味着，提供架构修饰符给 ORM 或 ODM 没有用处。某些框架可能也提供了有冲突的修饰符（例如，另一个<code class="language-plaintext highlighter-rouge">@model</code>修饰符），这可能保证避免提供的架构修饰符冲突。</p>
</div>



    <div class="tags">
      
    </div>
</div>

<hr class="shaded"/>

<footer id="container">
            <div class="row">
                <div class="col-md-6 footer-left">
               &copy;2021 IBM / StrongLoop. All rights reserved. <br />
 Site last generated: Mar 22, 2021
              </div>
              <div class="col-md-6 footer-right">
                <p><img src="https://loopback.io/images/company_logo.png" alt="Company logo"/></p>
              </div>
            </div>
</footer>


        </div>
        <!-- /.row -->
</div>
<!-- /.container -->
    </div>
</body>

</html>
