<!DOCTYPE html>
<head>
    

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Operation hooks are triggered by all methods that execute a particular high-level create, read, update, or delete operation. Numerous changes were made to op...">
  <meta name="keywords" content="application_logic,  LoopBack">
  <title>Operation hooks | LoopBack Documentation</title>
  <link rel="stylesheet" href="/css/syntax.css">

    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/modern-business.css">
    <link rel="stylesheet" href="/css/lavish-bootstrap.css">
    <link rel="stylesheet" href="/css/customstyles.css">
    <link rel="stylesheet" href="/css/theme-v4.css">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150726441-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-150726441-2');
</script>


    <!-- github star button -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js"></script>
    <script src="/js/toc.js"></script>
    <script src="/js/customscripts.js"></script>

    <link rel="shortcut icon" href="/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>

<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand no_icon" href="/doc/index.html">
              <img class="no_icon" style="width:147px;" src="/images/branding/logo/white/loopback.svg">&nbsp;<span class="projectTitle"></span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Docs<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://loopback.io/doc/en/lb4/apidocs.index.html" target="_blank">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="http://apidocs.loopback.io" target="_blank">LoopBack 3.x</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">View<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is / -->
                          
                            <li><a href="/">LoopBack Overview</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/lb4/ -->
                          
                            <li><a href="/doc/en/lb4/">LoopBack 4</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/lb3/ -->
                          
                            <li class="dropdownActive"><a href="/doc/en/lb3/">LoopBack 3.x</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/lb2/ -->
                          
                            <li><a href="/doc/en/lb2/">LoopBack 2.x</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/community/ -->
                          
                            <li><a href="/doc/en/community/">Community projects</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/contrib/ -->
                          
                            <li><a href="/doc/en/contrib/">Contributing to LoopBack</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/en/sec/ -->
                          
                            <li><a href="/doc/en/sec/">Security advisories</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://github.com/strongloop/loopback.io" target="_blank">Docs Github Repo</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs-announcements" target="_blank">Announcements Mailing List</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://groups.google.com/forum/#!forum/loopbackjs" target="_blank">Developer Forum</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw" target="_blank">LoopBack on Slack</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://stackoverflow.com/questions/tagged/strongloop+or+loopback4+or+loopbackjs" target="_blank">LoopBack on Stack Overflow</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is  -->
                          
                            <li><a href="https://strongloop.com/strongblog/tag_LoopBack.html" target="_blank">StrongLoop Blog - LoopBack</a></li>
                          
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Translations<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/es/lb2/ -->
                          
                            <li><a href="/doc/es/lb2/">Español (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/es/lb4/ -->
                          
                            <li><a href="/doc/es/lb4/">Español (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/fr/lb2/ -->
                          
                            <li><a href="/doc/fr/lb2/">Français (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/fr/lb4/ -->
                          
                            <li><a href="/doc/fr/lb4/">Français (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ko/lb2/ -->
                          
                            <li><a href="/doc/ko/lb2/">한국어 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ko/lb3/ -->
                          
                            <li><a href="/doc/ko/lb3/">한국어 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/pt-br/lb2/ -->
                          
                            <li><a href="/doc/pt-br/lb2/">Português (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/pt-br/lb4/ -->
                          
                            <li><a href="/doc/pt-br/lb4/">Português (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ja/lb2/ -->
                          
                            <li><a href="/doc/ja/lb2/">日本語 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ja/lb3/ -->
                          
                            <li><a href="/doc/ja/lb3/">日本語 (v3)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ja/lb4/ -->
                          
                            <li><a href="/doc/ja/lb4/">日本語 (v4)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/ru/lb2/ -->
                          
                            <li><a href="/doc/ru/lb2/">Pусский (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/zh/lb2/ -->
                          
                            <li><a href="/doc/zh/lb2/">中文 (v2)</a></li>
                          
                        
                        <!-- page.url is /doc/en/lb3/Operation-hooks.html .... folderitem.url is /doc/zh/lb4/ -->
                          
                            <li><a href="/doc/zh/lb4/">中文 (v4)</a></li>
                          
                        
                    </ul>
                </li>
                
                
                
                <li>
                    <form id="search" name="search" class="input-group lb-search" action="/search" method="GET">
                        <input type="text" class="form-control search-bar" placeholder="Search (powered by Watson)" name="q">
                        
                          <input type="hidden" name="sidebar" value="lb3_sidebar">
                        
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-default" aria-label="search">
                              <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </button>
                        </div>
                      </form>
                </li>
            </ul>
        </div>
      </div>
</nav>

<!-- Page Content -->
<div class="container">
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <nav class="col-md-3 sidebar-col">
          











<!-- NOTE: sidebar = site.data.sidebars.mydoc_sidebar.entries -->
<div class="sidebarTitle"><a href="index.html">LoopBack 3.x</a></div>
<ul id="mysidebar" class="nav-list">
  

  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Installation.html">Installation</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Installation-troubleshooting.html">Installation troubleshooting</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="3.0-Release-Notes.html">3.0 Release Notes</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Migrating-to-3.0.html">Migrating apps to v3</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="LoopBack-core-concepts.html">LoopBack core concepts</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Routing.html">Routing</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="LoopBack-FAQ.html">LoopBack FAQ</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Glossary.html">Glossary</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="StrongLoop-Labs.html">StrongLoop Labs</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Getting-started-with-LoopBack.html">Getting started with LoopBack</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Create-a-simple-API.html">Create a simple API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Use-API-Explorer.html">Use API Explorer</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connect-your-API-to-a-data-source.html">Connect your API to a data source</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Extend-your-API.html">Extend your API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Add-a-static-web-page.html">Add a static web page</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Add-a-custom-Express-route.html">Add a custom Express route</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Next-steps.html">Next steps</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Deploy-for-GDPR-readiness.html">Considerations for GDPR readiness</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Getting-started-part-II.html">Getting started part II</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Introducing-the-Coffee-Shop-Reviews-app.html">Introducing the Coffee Shop Reviews app</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Create-new-data-source.html">Create new data source</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Create-new-models.html">Create new models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Define-model-relations.html">Define model relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Define-access-controls.html">Define access controls</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Define-a-remote-hook.html">Define a remote hook</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Create-AngularJS-client.html">Create AngularJS client</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Learn-more.html">Learn more</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorials-and-examples.html">Tutorials and examples</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Creating-an-application.html">Creating an application</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Environment-specific-configuration.html">Environment-specific configuration</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Versioning-your-API.html">Versioning your API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Standard-project-structure.html">Standard project structure</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Defining-data-sources.html">Defining data sources</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Creating-a-database-schema-from-models.html">Creating a database schema from models</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Advanced-topics-data-sources.html">Data sources: advanced topics</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-database-transactions.html">Using database transactions</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Executing-native-SQL.html">Executing native SQL</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Building-a-connector.html">Building a connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Implementing-create-retrieve-update-and-delete-methods.html">Implementing CRUD methods</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Implementing-model-discovery.html">Implementing model discovery</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Implementing-auto-migration.html">Implementing auto-migration</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Defining-models.html">Defining models</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-the-model-generator.html">Using the model generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Discovering-models-from-relational-databases.html">Discovering models from relational databases</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Creating-models-from-unstructured-data.html">Creating models from unstructured data</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Customizing-models.html">Customizing models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Exposing-models-over-REST.html">Exposing models over REST</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Validating-model-data.html">Validating model data</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Creating-model-relations.html">Creating model relations</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-model-relations.html">Tutorial: model relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="BelongsTo-relations.html">BelongsTo relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="HasOne-relations.html">HasOne relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="HasMany-relations.html">HasMany relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="HasManyThrough-relations.html">HasManyThrough relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="HasAndBelongsToMany-relations.html">HasAndBelongsToMany relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Polymorphic-relations.html">Polymorphic relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Querying-related-models.html">Querying related models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Embedded-models-and-relations.html">Embedded models and relations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Nested-queries.html">Nested queries</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Using-built-in-models.html">Using built-in models</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Extending-built-in-models.html">Extending built-in models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Adding-remote-methods-to-built-in-models.html">Adding remote methods to built-in models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Model-property-reference.html">Model property reference</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Built-in-models-REST-API.html">Built-in models REST API</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="PersistedModel-REST-API.html">PersistedModel REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Access-token-REST-API.html">Access token REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="ACL-REST-API.html">ACL REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Application-REST-API.html">Application REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Relation-REST-API.html">Relation REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Role-REST-API.html">Role REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="User-REST-API.html">User REST API</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Attaching-models-to-data-sources.html">Attaching models to data sources</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Managing-users.html">Managing users</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Registering-users.html">Registering users</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Logging-in-users.html">Logging in users</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Partitioning-users-with-realms.html">Partitioning users with realms</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="User-management-example.html">User management example</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Authentication-authorization-and-permissions.html">Authentication, authorization, and permissions</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Introduction-to-User-model-authentication.html">Introduction to User model authentication</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Controlling-data-access.html">Controlling data access</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Making-authenticated-requests.html">Making authenticated requests</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Defining-and-using-roles.html">Defining and using roles</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Accessing-related-models.html">Accessing related models</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Creating-a-default-admin-user.html">Creating a default admin user</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Security-considerations.html">Security considerations</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-access-control.html">Tutorial: access control</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Working-with-data.html">Working with data</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Creating-updating-and-deleting-data.html">Creating, updating, and deleting data</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Querying-data.html">Querying data</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Fields-filter.html">Fields filter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Include-filter.html">Include filter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Limit-filter.html">Limit filter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Order-filter.html">Order filter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Skip-filter.html">Skip filter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Where-filter.html">Where filter</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Advanced-topics-data.html">Advanced topics: data</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Realtime-server-sent-events.html">Realtime server-sent events</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="AngularJS-LiveSet.html">AngularJS Live Set</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="AngularJS-LiveSet-Example.html">AngularJS Live Set example</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Realtime-socket-io.html">Real-time apps AngularJS using socket.io</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Adding-application-logic.html">Adding application logic</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Working-with-LoopBack-objects.html">Working with LoopBack objects</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Adding-logic-to-models.html">Adding logic to models</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Remote-methods.html">Remote methods</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Remote-hooks.html">Remote hooks</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  active">
    
    
      <a class="page-link" href="Operation-hooks.html">Operation hooks</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connector-hooks.html">Connector hooks</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-Adding-application-logic.html">Tutorial: Application logic</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Defining-boot-scripts.html">Defining boot scripts</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Defining-mixins.html">Defining mixins</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Defining-middleware.html">Defining middleware</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Middleware-example.html">Middleware example</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-current-context.html">Using current context</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Events.html">Events</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-promises.html">Using promises</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Running-and-debugging-apps.html">Running and debugging apps</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Setting-debug-strings.html">Setting debug strings</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-strong-error-handler.html">Using strong-error-handler</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Preparing-for-deployment.html">Preparing for deployment</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="LoopBack-on-Bluemix.html">Running LoopBack apps on Bluemix</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="LoopBack-components.html">LoopBack components</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="OAuth-2.0.html">OAuth 2.0 component</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Push-notifications.html">Push notification component</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Push-notifications-for-iOS-apps.html">Push notifications for iOS apps</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Push-notifications-for-Android-apps.html">Push notifications for Android apps</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Storage-component.html">Storage component</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Storage-component-REST-API.html">Storage component REST API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Storage-example.html">Storage component example</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Third-party-login-using-Passport.html">Passport login component</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Configuring-providers.json.html">Configuring providers.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-third-party-login.html">Tutorial: third-party login</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Synchronization.html">Synchronization component</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-Offline-Synchronization.html">Tutorial: Offline Synchronization</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Advanced-topics-sync.html">Advanced topics - sync</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Creating-components.html">Creating components</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Command-line-tools.html">Command-line tools</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="ACL-generator.html">ACL generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="API-definition-generator.html">API definition generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Application-generator.html">Application generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Bluemix-config-generator.html">Bluemix configuration generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Boot-script-generator.html">Boot script generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Data-source-generator.html">Data source generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Middleware-generator.html">Middleware generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Model-generator.html">Model generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Oracle-installer-command.html">Oracle installer command</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Property-generator.html">Property generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Refresh-definitions-command.html">Refresh definitions command</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Relation-generator.html">Relation generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Remote-method-generator.html">Remote method generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="SOAP-generator.html">SOAP generator</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Swagger-generator.html">Swagger generator</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Client-SDKs.html">Client SDKs</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="iOS-SDK.html">iOS SDK</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="IOS-getting-started.html">Getting started with the iOS SDK</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Android-SDK.html">Android SDK</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Tutorial-android-getting-started.html">Getting started with the Android SDK</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Working-with-files-using-the-Android-SDK.html">Working with files using the Android SDK</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Push-notifications-using-Android-SDK.html">Push notifications using Android SDK</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Working-with-the-LocalInstallation-class.html">Working with the LocalInstallation class</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="AngularJS-JavaScript-SDK.html">AngularJS SDK</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Angular-example-app.html">Angular example app</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="AngularJS-Grunt-plugin.html">AngularJS Grunt plugin</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Xamarin-SDK.html">Xamarin SDK</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Xamarin-client-API.html">Xamarin client API</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Xamarin-example-app.html">Xamarin example app</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="LoopBack-in-the-client.html">Isomorphic LoopBack</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Running-LoopBack-in-the-browser.html">Running LoopBack in the browser</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-Browserify.html">Using Browserify</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Isomorphic-LoopBack-example.html">Isomorphic example</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Connectors-reference.html">Connectors reference</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Memory-connector.html">Memory connector</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Database-connectors.html">Database connectors</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Cassandra-connector.html">Cassandra connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Cloudant-connector.html">Cloudant connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Couchdb2-connector.html">CouchDB 2.x connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="DashDB.html">DashDB</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="DB2-connector.html">DB2 connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="DB2-iSeries-connector.html">DB2 for iSeries connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="DB2-for-z-OS.html">DB2 for z/OS</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="gRPC-connector.html">gRPC connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Informix.html">Informix connector</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="MongoDB-connector.html">MongoDB connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-MongoDB.html">MongoDB Connector Tutorial</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Using-MongoLab.html">Using MongoLab</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="MySQL-connector.html">MySQL connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-MySQL.html">MySQL Connector Tutorial</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="OpenAPI-connector.html">OpenAPI connector</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Oracle-connector.html">Oracle connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Installing-the-Oracle-connector.html">Installing the Oracle connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-Oracle.html">Oracle connector tutorial</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="PostgreSQL-connector.html">PostgreSQL connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-PostgreSQL.html">PostgreSQL connector tutorial</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Redis-connector.html">Redis connector</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="kv-redis-connector.html">Redis key-value connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Example-kv-connector.html">KV connector example</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="SQL-Server-connector.html">SQL Server connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-Microsoft-SQL-Server.html">SQL Server connector tutorial</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="SQLite3.html">SQLite3 connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="zOSconnectEE.html">z/OS Connect Enterprise Edition connector</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Other-connectors.html">Other connectors</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Email-connector.html">Email connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="JSON-RPC-connector.html">JSON RPC connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="MQLight-connector.html">MQ Light connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Push-connector.html">Push connector</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Remote-connector.html">Remote connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Remote-connector-example.html">Remote connector example</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Strong-Remoting.html">Strong Remoting</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="REST-connector.html">REST connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="REST-connector-example.html">REST connector example</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="SOAP-connector.html">SOAP connector</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Strong-soap.html">Strong-soap</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="SOAP-Connector-example.html">SOAP connector example</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connecting-to-SOAP.html">Connecting to SOAP web services</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Storage-connector.html">Storage connector</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Swagger-connector.html">Swagger connector</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Community-connectors.html">Community connectors</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Project-layout-reference.html">Project layout reference</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="client-directory.html">client directory</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="common-directory.html">common directory</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Model-definition-JSON-file.html">Model definition JSON file</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Model-extension-file.html">Model extension file</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="package.json.html">package.json</a>
    
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="server-directory.html">server directory</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="component-config.json.html">component-config.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="config.json.html">config.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="datasources.json.html">datasources.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="middleware.json.html">middleware.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="middleware.development.json.html">middleware.development.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="model-config.json.html">model-config.json</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="server.js.html">server.js</a>
    
      
  </li>
  



      </ul>
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Node-reference.html">Node reference</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="LoopBack-types.html">LoopBack types</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Geotype.html">Geopoint type</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Valid-names-in-LoopBack.html">Valid names in LoopBack</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Basic-model-object.html">Basic model object</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Connected-model-object.html">Connected model object</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Error-object.html">Error object</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="LoopBack-middleware.html">LoopBack middleware</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class="  tree-parent   ">
     <a class="show-hide" href="#"></span> 
    
      <a class="page-link" href="Publish-subscribe-messaging.html">Publish-subscribe messaging</a>
    
      
      <ul class="nav-list">
          

  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Strong-pub-sub.html">Strong Pub-sub</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Pub-sub-bridge.html">Pub-sub bridge</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="MQTT-adapter.html">MQTT adapter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Redis-pub-sub-adapter.html">Redis pub-sub adapter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Primus-pub-sub-adapter.html">Primus pub-sub adapter</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Pub-sub-example.html">Node pub-sub example app</a>
    
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="Pub-sub-Loopback-example.html">LoopBack pub-sub example app</a>
    
      
  </li>
  



      </ul>
      
  </li>
  


  
  
  <li class=" leaf-node  ">
    
    
      <a class="page-link" href="All-tags.html">All tags</a>
    
      
  </li>
  



</ul>

        </nav>
        <!-- Content Column -->
        <div class="col-md-9">
            
  <div class="v3notice">
LoopBack 3 has reached end of life. We are no longer accepting pull requests or providing 
support for community users. The only exception is fixes for critical bugs and security 
vulnerabilities provided as part of support for IBM API Connect customers.
We urge all LoopBack 3 users to migrate their applications to LoopBack 4 as soon as possible. 
Learn more about
<a href="https://loopback.io/doc/en/contrib/Long-term-support.html">LoopBack's long term support policy.</a>
</div>


<div class="post-header">
   <h1 class="post-title-main">Operation hooks</h1>
   
     
       <a target="_blank" href="https://github.com/strongloop/loopback.io/blob/gh-pages/pages/en/lb3/Operation-hooks.md" class="githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit this page</a>
   
</div>

<div class="post-content">


  
   <div class="summary">
     Operation hooks are triggered by all methods that execute a particular high-level create, read, update, or delete operation. Numerous changes were made to operation hooks in LoopBack version 3.0.
   </div>
  



  
  
<div id="seealso">

  <p><b>See also</b>:</p>

  <ul>
    <li>
      <p><a href="Remote-hooks.html">Remote hooks</a></p>
    </li>
    <li>
      <p><a href="Remote-methods.html">Remote methods</a></p>
    </li>
    <li>
      <p><a href="Connector-hooks.html">Connector hooks</a></p>
    </li>
    <li>
      <p><a href="Tutorial-Adding-application-logic.html">Tutorial: Adding application logic</a></p>
    </li>
  </ul>

</div>




 
   
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
;$(function() {
  var level = parseInt(2, 10);
  if (level === 1) {level = 'h2'}
  if (level === 2) {level = 'h2,h3'}
  if (level === 3) {level = 'h2,h3,h4'}
  if (level === 4) {level = 'h2,h3,h4,h5'}

  // Add a new level for changelog files which use h1,h2,h3
  if (level === 0) {level = 'h1,h2,h3,h4,h5'}

  var toc = $('#toc')

  toc.toc({minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: level})

  /* this offset helps with the space taken up by the floating toolbar */
  toc.on('click', 'a', function() {
    var target = $(this.getAttribute('href')),
      scroll_target = target.offset().top

    $(window).scrollTop(scroll_target - 10)
    return false
  })
  .on('click', '.toc-expand-button', function() {
    toc.find('> ul').slideToggle('fast');
  })
})
</script>

<div id="toc">
  <span class="toc-title">Page Contents</span>
  <button type="button" class="btn btn-link toc-expand-button">
    <i class="fa fa-bars"></i>
  </button>
</div>

 

    
  <h2 id="overview">Overview</h2>

<p><em>Operation hooks</em> are not tied to a particular method, but rather are triggered from all methods that execute a particular high-level create, read, update, or delete operation.
These are all methods of <a href="https://apidocs.loopback.io/loopback/#persistedmodel">PersistedModel</a> that application models inherit.
Using operation hooks enables you to intercept actions that modify data independent of the specific method that invokes them (for example, <code class="language-plaintext highlighter-rouge">create</code>, <code class="language-plaintext highlighter-rouge">save</code>, or <code class="language-plaintext highlighter-rouge">updateOrCreate</code>).</p>

<p>The API is simple: the method <code>Model.observe(<i>name</i>, <i>observer</i>)</code>, where <em><code class="language-plaintext highlighter-rouge">name</code></em> is the string name of the operation hook, for example “before save”,
and <em><code class="language-plaintext highlighter-rouge">observer</code></em> is <code class="language-plaintext highlighter-rouge">function observer(context, callback)</code>. Child models inherit observers, and you can register multiple observers for a hook.</p>

<p> The following table summarizes the operation hooks invoked by PersistedModel create, retrieve, update, and delete methods.</p>

<table>
  <tbody>
    <tr>
      <th>
        <p>Method&nbsp;→<br />&nbsp;</p>
        <p>Operation hook ↓</p>
      </th>
      <th>find<br />findOne<br />findById</th>
      <th>exists</th>
      <th>count</th>
      <th>create</th>
      <th>upsert</th>
      <th>findOrCreate</th>
      <th>deleteAll<br />deleteById </th>
      <th>updateAll</th>
      <th>prototype<br />.save</th>
      <th>prototype<br />.delete</th>
      <th>prototype<br />.updateAttributes</th>
      <th>
        prototype<br />.replaceAttributes
      </th>
      <th>replaceById</th>
      <th>replaceOrCreate</th>
      <th>upsertWithWhere</th>
    </tr>
    <tr>
      <th>access</th>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>X</td>
      <td>X</td>
    </tr>
    <tr>
      <th>before save</th>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
    </tr>
    <tr>
      <th>after save</th>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
    </tr>
    <tr>
      <th>before delete</th>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th>after delete</th>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <th>loaded</th>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
    </tr>
    <tr>
      <th>persist</th>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td style="text-align: center;">X</td>
      <td>&nbsp;</td>
      <td style="text-align: center;">X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
      <td>X</td>
    </tr>
  </tbody>
</table>

<h3 id="using-asyncawait">Using async/await</h3>

<p>Operation hooks can also return a promise instead of calling the next parameter.</p>

<div id="/common/models/MyModel.js" class="code-caption">
  <p>/common/models/MyModel.js</p>
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before save</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//...</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="operation-hook-context-object">Operation hook context object</h3>

<p>The <code class="language-plaintext highlighter-rouge">context</code> object is specific to operation hooks and does not have any relation to the context object passed to remote hooks registered via
<code class="language-plaintext highlighter-rouge">Model.beforeRemote</code> and <code class="language-plaintext highlighter-rouge">Model.afterRemote</code>. See <a href="Remote-hooks.html">Remote hooks</a> for more information.
Note that the context object is not related to the “current context” provided by <code class="language-plaintext highlighter-rouge">loopback.getCurrentContext()</code> either.</p>

<h4 id="properties-common-for-all-hooks-and-operations">Properties common for all hooks and operations</h4>

<h5 id="target-model">Target model</h5>

<p>The property <code class="language-plaintext highlighter-rouge">context.Model</code> is set to the constructor of the model that is the target of the operation. For example <code class="language-plaintext highlighter-rouge">Product.find()</code> sets <code class="language-plaintext highlighter-rouge">context.Model = Product</code>.</p>

<h5 id="operation-options">Operation options</h5>

<p>The context object has an <code class="language-plaintext highlighter-rouge">options</code> property that enables hooks to access any options provided by the caller of the specific model method (operation).</p>

<p>For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">FILTERED_PROPERTIES</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">immutable</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">birthday</span><span class="dl">'</span><span class="p">];</span>
<span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">filterProperties</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">options</span> <span class="o">&amp;&amp;</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">skipPropertyFilter</span><span class="p">)</span> <span class="k">return</span> <span class="nx">next</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">FILTERED_PROPERTIES</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">unsetAttribute</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">FILTERED_PROPERTIES</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">delete</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">p</span><span class="p">];</span>
    <span class="p">});</span>
  <span class="p">}</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// immutable is not updated</span>
<span class="nx">MyModel</span><span class="p">.</span><span class="nx">updateOrCreate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">immutable</span><span class="p">:</span> <span class="dl">'</span><span class="s1">new value</span><span class="dl">'</span>
<span class="p">},</span> <span class="nx">cb</span><span class="p">);</span>

<span class="c1">// immutable is changed</span>
<span class="nx">MyModel</span><span class="p">.</span><span class="nx">updateOrCreate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="na">immutable</span><span class="p">:</span> <span class="dl">'</span><span class="s1">new value</span><span class="dl">'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="na">skipPropertyFilter</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="nx">cb</span><span class="p">);</span>
</code></pre></div></div>

<h5 id="sharedhookstateproperty">Shared hookState property</h5>

<p>Use the <code class="language-plaintext highlighter-rouge">ctx.hookState</code> property to share data between hooks (for example, “before save” and “after save”).  The value of the <code class="language-plaintext highlighter-rouge">ctx.hookState</code> property is preserved across all hooks invoked for a single operation.</p>

<p>For example, “access”, “before save” and “after save” hooks that are invoked for <code class="language-plaintext highlighter-rouge">MyModel.create()</code> have the same object passed in <code class="language-plaintext highlighter-rouge">ctx.hookState</code>.</p>

<p>In contrast, <code class="language-plaintext highlighter-rouge">ctx.options</code> is set using options argument provided to PersistedModel methods like <code class="language-plaintext highlighter-rouge">MyModel.find()</code> or <code class="language-plaintext highlighter-rouge">MyModel.create()</code>. If no options argument was provided, then <code class="language-plaintext highlighter-rouge">ctx.options</code> is set to an empty object, so that hooks don’t have to check whether <code class="language-plaintext highlighter-rouge">ctx.options</code> is set.</p>

<h4 id="hook-and-operation-specific-properties">Hook and operation specific properties</h4>

<p>Besides the common properties listed above, each hook provides additional properties identifying the model instance(s) affected by the operation and the changes applied.
The general rule is that the context provides either an <code class="language-plaintext highlighter-rouge">instance</code> property or a pair of <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">where</code> properties.</p>

<h5 id="instance">instance</h5>

<p>This property is provided when the operation affects a single instance <em>and</em> performs a full update/create/delete of all model properties,
for example <code class="language-plaintext highlighter-rouge">PersistedModel.create()</code>.</p>

<h5 id="where--data">where + data</h5>

<p>When the operation affects multiple instances (e.g. <code class="language-plaintext highlighter-rouge">PersistedModel.updateAll()</code>) <em>or</em> performs a partial update of a subset of model properties
(e.g. <code class="language-plaintext highlighter-rouge">PersistedModel.prototype.updateAttributes()</code>), the context provides a <a href="Where-filter.html">where filter</a>
used to find the affected records and plain <code class="language-plaintext highlighter-rouge">data</code> object containing the changes to be made.</p>

<h5 id="isnewinstance">isNewInstance</h5>

<p>Some operations provide a flag to distinguish between a CREATE operation and an UPDATE operation. See the documentation of individual hooks for more information.</p>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>Only certain connectors support <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code>. With other connectors it is undefined.
See <a href="Operation-hooks-version-3.0-.html">Checking for support of ctx.isNewInstance</a>.</p>

</div>

<h5 id="currentinstance">currentInstance</h5>

<p>This property is provided by hooks that perform a partial change of a single instance.
It contains the affected model instance, you should treat the value as read only (immutable).</p>

<h3 id="checking-for-support-ofctxisnewinstance">Checking for support of ctx.isNewInstance</h3>

<p>The initial implementation of <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> included only support for memory, MongoDB, and MySQL connectors.
You can check whether your connector supports this feature by testing the value returned in “after save” hook.</p>

<p>For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">after save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">supports isNewInstance?</span><span class="dl">'</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">isNewInstance</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">);</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
<span class="c1">// It's important to provide a value for the id property</span>
<span class="c1">// Include also values for any required properties</span>
<span class="nx">MyModel</span><span class="p">.</span><span class="nx">updateOrCreate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="mi">123</span>
<span class="p">},</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">);</span>
</code></pre></div></div>

<p>Please report a GitHub issue in the connector project if the feature is not supported.</p>

<h3 id="accessing-the-affected-instance">Accessing the affected instance</h3>

<p>Operations affecting a single instance only  (all create, retrieve, update,
and delete operations except <code class="language-plaintext highlighter-rouge">PersistedModel.deleteAll</code> and <code class="language-plaintext highlighter-rouge">PersistedModel.updateAll</code>) usually provide the affected instance in the context object.
However, depending on the operation, this instance is provided either as modifiable <code class="language-plaintext highlighter-rouge">ctx.instance</code> or as read-only <code class="language-plaintext highlighter-rouge">ctx.currentInstance:</code></p>

<table width="800">
  <thead>
    <tr>
      <th width="220">Method</th>
      <th width="200">before save</th>
      <th width="200">persist</th>
      <th width="160">after save</th>
      <th>before delete</th>
      <th>after delete</th>
    </tr>
  </thead>
  <tbody style="font-size: 85%;">    
    <tr>
      <td><code>create</code></td>
      <td><code>ctx.instance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>findOrCreate</code></td>
      <td><code>ctx.instance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>updateOrCreate</code></td>
      <td>n/a*</td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>upsertWithWhere</code></td>
      <td>n/a*</td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>updateAll</code></td>
      <td>n/a</td>
      <td>n/a</td>
      <td>n/a</td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>prototype.save</code></td>
      <td><code>ctx.instance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>prototype<br />.updateAttributes</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
    </tr>
    <tr>
      <td><code>prototype.delete</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
      <td><code>ctx.where.id</code></td>
      <td><code>ctx.where.id</code></td>
    </tr>
    <tr>
      <td><code>deleteAll</code></td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
      <td style="text-align: center;">---</td>
      <td>n/a</td>
      <td>n/a</td>
    </tr>
    <tr>
      <td><code>replaceOrCreate</code></td>
      <td><code>ctx.instance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td>---</td>
      <td>---</td>
    </tr>
    <tr>
      <td><code>prototype<br />.replaceAttributes<br />
replaceById</code>
      </td>
      <td><code>ctx.instance</code></td>
      <td><code>ctx<br />.currentInstance</code></td>
      <td><code>ctx.instance</code></td>
      <td>---</td>
      <td>---</td>
    </tr>
  </tbody>
</table>

<p>(*) The operations <code class="language-plaintext highlighter-rouge">updateOrCreate</code> and <code class="language-plaintext highlighter-rouge">upsertWithWhere</code> do not provide an instance in the “before save” hook. Since it’s impossible tell in advance whether the operation will result in UPDATE or CREATE, there is no way to know whether an existing “currentInstance” is affected by the operation.</p>

<p>See the following sections for more details.</p>

<h2 id="hooks">Hooks</h2>

<p>LoopBack provides the following operation hooks:</p>

<ul>
  <li><a href="Operation-hooks.html#access">access</a></li>
  <li><a href="Operation-hooks.html#before-save">before save</a></li>
  <li><a href="Operation-hooks.html#after-save">after save</a></li>
  <li><a href="Operation-hooks.html#before-delete">before delete</a></li>
  <li><a href="Operation-hooks.html#after-delete">after delete</a></li>
  <li><a href="Operation-hooks.html#loaded">loaded</a></li>
  <li><a href="Operation-hooks.html#persist">persist</a></li>
</ul>

<p>The following table lists hooks that PersistedModel methods invoke.</p>

<table>
  <tbody>
    <tr>
      <th width="160">Method name</th>
      <th>Hooks invoked</th>
    </tr>
    <tr>
      <td>
        <p>all<br />find<br />findOne <br />findById  <br />exists<br />count </p>
      </td>
      <td>access, loaded</td>
    </tr>
    <tr>
      <td>create</td>
      <td>before save, after save, loaded, persist</td>
    </tr>
    <tr>
      <td>upsert (aka updateOrCreate)</td>
      <td>access, before save, after save, loaded, persist</td>
    </tr>
    <tr>
      <td>upsertWithWhere</td>
      <td>access, before save, after save, loaded, persist</td>
    </tr>
    <tr>
      <td>findOrCreate</td>
      <td>access, before save*, after save*, loaded, persist</td>
    </tr>
    <tr>
      <td>deleteAll (destroyAll)<br />deleteById (destroyById)</td>
      <td>access, before delete, after delete</td>
    </tr>
    <tr>
      <td>updateAll</td>
      <td>access, before save, after save, persist</td>
    </tr>
    <tr>
      <td>prototype.save</td>
      <td>before save, after save, persist, loaded</td>
    </tr>
    <tr>
      <td>prototype.delete</td>
      <td>before delete, after delete</td>
    </tr>
    <tr>
      <td>prototype.<br />updateAttributes</td>
      <td>before save, after save, loaded, persist</td>
    </tr>
    <tr>
      <td>replaceOrCreate</td>
      <td>access, before save, after save, loaded, persist</td>
    </tr>
    <tr>
      <td>prototype.<br />replaceAttributes
        <br />replaceById
      </td>
      <td>before save, after save, loaded, persist</td>
    </tr>
  </tbody>
</table>

<p>(*) When <code class="language-plaintext highlighter-rouge">findOrCreate</code> finds an existing model, the save hooks are not triggered.
However, connectors providing atomic implementation may trigger <code class="language-plaintext highlighter-rouge">before save</code> hook even when the model is not created,
since they cannot determine in advance whether the model will be created or not.</p>

<h3 id="access">access</h3>

<p>The <code class="language-plaintext highlighter-rouge">access</code> hook is triggered whenever a database is queried for models, that is when <em>any</em> create, retrieve, update,
and delete method of <a href="https://apidocs.loopback.io/loopback/#persistedmodel">PersistedModel</a> is called.
Observers may modify the query, for example by adding extra restrictions.</p>

<div class="alert alert-info" role="alert">
  <p><i class="fa fa-info-circle"></i>
<b>Note:</b></p>

  <p>Prototype methods don’t trigger the <code class="language-plaintext highlighter-rouge">access</code> hook because the hook was already triggered by the method that loaded the model instance from the database.</p>

  <p>For example, when you call a prototype method via the REST API, two model calls are made: static <code class="language-plaintext highlighter-rouge">findById()</code>
(that triggers the “access” hook) and then the prototype method as requested.</p>

</div>

<p>Context properties</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be queried</li>
  <li><code class="language-plaintext highlighter-rouge">query</code> - the query containing fields <code class="language-plaintext highlighter-rouge">where</code>, <code class="language-plaintext highlighter-rouge">include</code>, <code class="language-plaintext highlighter-rouge">order</code>, etc.</li>
</ul>

<p>Examples:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">access</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">logQuery</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Accessing %s matching %s</span><span class="dl">'</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">modelName</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">where</span><span class="p">);</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">access</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">limitToTenant</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">query</span><span class="p">.</span><span class="nx">where</span><span class="p">.</span><span class="nx">tenantId</span> <span class="o">=</span> <span class="nx">loopback</span><span class="p">.</span><span class="nx">getCurrentContext</span><span class="p">().</span><span class="nx">tenantId</span><span class="p">;</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="before-save">before save</h3>

<p>The <code class="language-plaintext highlighter-rouge">before save</code> hook is triggered before a model instance is modified (created, updated), specifically when the following methods of PersistedModel are called:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-create">create()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-upsert">upsert()</a></li>
  <li><a href="http://apidocs.loopback.io/loopback/#persistedmodel-upsertwithwhere">upsertWithWhere()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findorcreate">findOrCreate()</a> - When <code class="language-plaintext highlighter-rouge">findOrCreate</code> finds an existing model, it does not trigger save hooks. However, connectors providing atomic implementation may trigger <code class="language-plaintext highlighter-rouge">before save</code> hook even when the model is not created, since they cannot determine in advance whether the model will be created or not.</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-updateall">updateAll()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-save">prototype.save()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-updateattributes">prototype.updateAttributes()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-replaceorcreate">replaceOrCreate()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-replacebyid">prototype.replaceById()</a> / <a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-replaceattributes">replaceAttributes()</a></li>
</ul>

<p>The hook is triggered <em>before</em> <a href="Validating-model-data.html">model validation</a> functions are called.</p>

<div class="alert alert-success" role="alert">
  <p><i class="fa fa-check-square-o"></i>
  <b>Tip:</b> 
Since the <code class="language-plaintext highlighter-rouge">before save</code> hook is triggered before validators are called, you can use it to ensure that empty or missing values are filled with default values.</p>

</div>

<p>Depending on which method triggered this hook, the context will have one of the following sets of properties:</p>

<ul>
  <li>Full save of a single model
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be saved</li>
      <li><code class="language-plaintext highlighter-rouge">instance</code> - the model instance to be saved. The value is an instance of <code class="language-plaintext highlighter-rouge">Model</code> class.</li>
    </ul>
  </li>
  <li>Partial update of possibly multiple models
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be saved</li>
      <li><code class="language-plaintext highlighter-rouge">where</code> - the where filter describing which instances will be affected</li>
      <li><code class="language-plaintext highlighter-rouge">data</code> - the (partial) data to apply during the update</li>
      <li><code class="language-plaintext highlighter-rouge">currentInstance</code> - the affected instance.</li>
    </ul>
  </li>
</ul>

<h4 id="ctxisnewinstance">ctx.isNewInstance</h4>

<p>The before save hook provides the <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> property when <code class="language-plaintext highlighter-rouge">ctx.instance</code> is set, with the following values:</p>

<ul>
  <li>True for all CREATE operations.</li>
  <li>False for all UPDATE and REPLACE operations.</li>
  <li>Undefined for <code class="language-plaintext highlighter-rouge">updateOrCreate</code>, <code class="language-plaintext highlighter-rouge">upsertWithWhere</code>, <code class="language-plaintext highlighter-rouge">replaceOrCreate</code>, <code class="language-plaintext highlighter-rouge">prototype.save</code>,  <code class="language-plaintext highlighter-rouge">prototype.updateAttributes</code>, and <code class="language-plaintext highlighter-rouge">updateAll </code>operations.</li>
</ul>

<h4 id="embedded-relations">Embedded relations</h4>

<p>You can define a <code class="language-plaintext highlighter-rouge">before save</code> hook for a model that is <a href="Embedded-models-and-relations.html">embedded in</a> another model.
Then, updating or creating an instance of the containing model will trigger the operation hook on the embedded model.
When this occurs, <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> is false, because only a new instance of the container model is created.</p>

<p>For example, if <code class="language-plaintext highlighter-rouge">Customer embedsOne Address</code>, and you define a <code class="language-plaintext highlighter-rouge">before save</code> hook on the Address model, creating a new Customer instance will trigger the operation hook.</p>

<h4 id="manipulating-model-data-in-before-save-hook">Manipulating model data in “before save” hook</h4>

<p>As explained above, the context provides either an <code class="language-plaintext highlighter-rouge">instance</code> property or a pair of <code class="language-plaintext highlighter-rouge">data</code> and <code class="language-plaintext highlighter-rouge">where</code> properties.
Exposing a full model instance in <code class="language-plaintext highlighter-rouge">ctx.instance</code> allows hooks to call custom model instance methods
(for example , the hook can call <code class="language-plaintext highlighter-rouge">order.recalculateShippingAndTaxes()</code>whenever order data like address was changed).
That’s why LoopBack create, retrieve, update, and delete operations provide the instance if possible.</p>

<p>There are two notable exception when it is not feasible to provide the instance object:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">PersistedModel.updateAll</code> updates multiple instances matching the provided query. 
LoopBack does not even load their data from the database, it’s up to the database to find these instances and apply necessary changes. </li>
  <li><code class="language-plaintext highlighter-rouge">PersistedModel.updateAttributes</code> performs a partial update, only a subset of model properties is modified.
While LoopBack has a model instance available, it also needs to know which of model properties should be changed in the database.
Passing the operation payload in <code class="language-plaintext highlighter-rouge">ctx.data</code> - a plain object containing only those properties which should be modified - makes it easy for hook implementations to add/remove the properties to modify.
You can still access the model instance to be modified via <code class="language-plaintext highlighter-rouge">ctx.currentInstance</code> as long as you treat it as immutable (read-only).</li>
</ol>

<h4 id="examples">Examples</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">updateTimestamp</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">updated</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>

<span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">computePercentage</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">percentage</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">part</span> <span class="o">/</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">part</span> <span class="o">&amp;&amp;</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">percentage</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">part</span> <span class="o">/</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">total</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">part</span> <span class="o">||</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">total</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// either report an error or fetch the missing properties from DB</span>
  <span class="p">}</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="removing-unneeded-properties">Removing unneeded properties</h4>

<p>To remove (unset) a property in a model instance, it is not enough the set its value to undefined and/or delete the property.
One has to call <code class="language-plaintext highlighter-rouge">unsetAttribute(name)</code> instead. However, don’t forget to handle the case where the context has a data property instead!
Since the data object is a plain object, you can remove properties the usual way via delete operator.</p>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">removeUnwantedField</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">unsetAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">unwantedField</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">unwantedField</span><span class="p">;</span>
 <span class="err"> </span><span class="p">}</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<p>This completely removes the field and prevents inserting spurious data into the database.</p>

<h3 id="after-save">after save</h3>

<p>The <code class="language-plaintext highlighter-rouge">after save</code> hook is called after a model change was successfully persisted to the datasource, specifically when the following methods of PersistedModel are called:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-create">create()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-upsert">upsert()</a></li>
  <li><a href="http://apidocs.loopback.io/loopback/#persistedmodel-upsertwithwhere">upsertWithWhere()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findorcreate">findOrCreate()</a>*</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-updateall">updateAll()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-save">prototype.save()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-updateattributes">prototype.updateAttributes()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-replaceattributes">prototye.replaceAttributes()</a> / <a href="https://apidocs.loopback.io/loopback/#persistedmodel-replacebyid">replaceById()</a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-replaceorcreate">replaceOrCreate()</a></li>
</ul>

<p>(*) When <code class="language-plaintext highlighter-rouge">findOrCreate</code> finds an existing model, the save hooks are not triggered.
However, connectors providing atomic implementation may trigger <code class="language-plaintext highlighter-rouge">before save</code> hook even when the model is not created,
since they cannot determine in advance whether the model will be created or not.</p>

<p>Depending on which method triggered this hook, the context will have one of the following sets of properties:</p>

<ul>
  <li>A single model was updated:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be saved.</li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">instance</code> - the model instance that was saved. The value is an instance of <code class="language-plaintext highlighter-rouge">Model</code> class and contains updated values computed by datastore (for example, auto-generated ID).</p>

        <div class="alert alert-info" role="alert">
          <p><i class="fa fa-info-circle"></i>
<b>Note:</b></p>

          <p>The after save hook returns the changes made to <code class="language-plaintext highlighter-rouge">ctx.instance</code> to the caller (REST client), but does not persist them to the database!</p>

        </div>
      </li>
    </ul>
  </li>
</ul>
<p>&lt;/div&gt;</p>

<ul>
  <li>Partial update of more model instances via <code class="language-plaintext highlighter-rouge">Model.updateAll</code>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be saved.</li>
      <li><code class="language-plaintext highlighter-rouge">where</code> - the where filter describing which instances were queried. See caveat below.</li>
      <li>
        <p><code class="language-plaintext highlighter-rouge">data</code>- the (partial) data applied during the update. </p>

        <p>NOTE: You cannot reliably use the "where" query in an after save hook to find which models were affected. Consider the following call:</p>

        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">updateAll</span><span class="p">({</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">yellow</span><span class="dl">'</span> <span class="p">},</span> <span class="p">{</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">red</span><span class="dl">'</span> <span class="p">},</span> <span class="nx">cb</span><span class="p">);</span>
</code></pre></div>        </div>

        <p>At the time the "after save" hook is run, no records will match the query <code class="language-plaintext highlighter-rouge">{ color: 'yellow' }</code>.</p>
      </li>
    </ul>
  </li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">after save</code> hook provides the <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> property whenever <code class="language-plaintext highlighter-rouge">ctx.instance</code> is set, with the following values:</p>

<ul>
  <li>True after all CREATE operations.</li>
  <li>False after all UPDATE/REPLACE operations.</li>
  <li>The operations <code class="language-plaintext highlighter-rouge">updateOrCreate</code>, <code class="language-plaintext highlighter-rouge">prototype.save</code>, and <code class="language-plaintext highlighter-rouge">prototype.updateAttributes</code> require connectors to report whether a new instance was created or an existing instance was updated.
When the connector provides this information, <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> is True or False. 
When the connector does not support this feature yet (see below), the value is undefined.</li>
</ul>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>Only certain connectors support <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code>. With other connectors it is undefined.
See <a href="#checking-for-support-of-ctx.isnewinstance">Checking for support of ctx.isNewInstance</a>.</p>

</div>

<h4 id="embedded-relations-1">Embedded relations</h4>

<p>You can define an <code class="language-plaintext highlighter-rouge">after save</code> hook for a model that is <a href="Embedded-models-and-relations.html">embedded in</a> another model.
Then, updating or creating an instance of the containing model will trigger the operation hook on the embedded model.
When this occurs, <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> is false, because only a new instance of the container model is created.</p>

<p>For example, if <code class="language-plaintext highlighter-rouge">Customer embedsOne Address</code>, and you define an <code class="language-plaintext highlighter-rouge">after save</code> hook on the Address model,
creating a new Customer instance will trigger the operation hook.</p>

<h4 id="examples-1">Examples</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">after save</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Saved %s#%s</span><span class="dl">'</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">modelName</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">instance</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Updated %s matching %j</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">pluralModelName</span><span class="p">,</span>
      <span class="nx">ctx</span><span class="p">.</span><span class="nx">where</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="before-delete">before delete</h3>

<p>The <code class="language-plaintext highlighter-rouge">before delete</code> hook is triggered before a model is removed from a datasource, specifically when the following methods of PersistedModel are called:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-destroyall"><code class="language-plaintext highlighter-rouge">destroyAll()</code></a> (same as <code class="language-plaintext highlighter-rouge">deleteAll()</code>)</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-destroybyid"><code class="language-plaintext highlighter-rouge">destroyById()</code></a>(same as <code class="language-plaintext highlighter-rouge">deleteById()</code>)</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-destroy"><code class="language-plaintext highlighter-rouge">prototype.destroy()</code></a> (same as <code class="language-plaintext highlighter-rouge">prototype.delete()</code>)</li>
</ul>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>The <code class="language-plaintext highlighter-rouge">before delete</code> operation hook does not receive a list of deleted model instance IDs, because backend data stores such as relational or NoSQL databases don’t provide this information.
However, <em>when deleting a single model instance</em> hook receives <code class="language-plaintext highlighter-rouge">ctx.where</code> that contains the <code class="language-plaintext highlighter-rouge">id</code> of the instance being deleted.</p>

</div>

<p>Context properties</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be queried</li>
  <li><code class="language-plaintext highlighter-rouge">where</code> - the where filter describing which instances will be deleted.</li>
</ul>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">before delete</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Going to delete %s matching %j</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">pluralModelName</span><span class="p">,</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">where</span><span class="p">);</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<p>To reject the deletion of a model based on some condition, call <code class="language-plaintext highlighter-rouge">next()</code> with an error to abort the delete operation.</p>

<p>For example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nx">subscriptions</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//Stop the deletion of this Client</span>
  <span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Client has an active subscription, cannot delete</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">err</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
  <span class="nx">next</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="after-delete">after delete</h3>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>The <code class="language-plaintext highlighter-rouge">after delete</code> operation hooks do not receive a list of deleted model instance IDs, because backend data stores such as relational or NoSQL databases don’t provide this information.
However, <em>when deleting a single model instance</em> hook receives <code class="language-plaintext highlighter-rouge">ctx.where</code> that contains the <code class="language-plaintext highlighter-rouge">id</code> of the instance being deleted.</p>

</div>

<p>The <code class="language-plaintext highlighter-rouge">after delete</code> hook is triggered after some models are removed from the datasource, specifically when the following methods of PersistedModel are called:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-destroyall"><code class="language-plaintext highlighter-rouge">destroyAll()</code></a> (same as <code class="language-plaintext highlighter-rouge">deleteAll()</code>)</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-destroybyid"><code class="language-plaintext highlighter-rouge">destroyById()</code></a>(same as <code class="language-plaintext highlighter-rouge">deleteById()</code>)</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-destroy"><code class="language-plaintext highlighter-rouge">prototype.destroy()</code></a> (same as <code class="language-plaintext highlighter-rouge">prototype.delete()</code>)</li>
</ul>

<p>Context properties</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Model</code> - the constructor of the model that will be queried</li>
  <li><code class="language-plaintext highlighter-rouge">where</code> - the where filter describing which instances were deleted.</li>
</ul>

<p>Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MyModel</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="dl">'</span><span class="s1">after delete</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Deleted %s matching %j</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">Model</span><span class="p">.</span><span class="nx">pluralModelName</span><span class="p">,</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">where</span><span class="p">);</span>
  <span class="nx">next</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="loaded">loaded</h3>

<p>This hook is triggered by the following methods of PersistedModel:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-find"><code class="language-plaintext highlighter-rouge">find()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findone"><code class="language-plaintext highlighter-rouge">findOne()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findbyid"><code class="language-plaintext highlighter-rouge">findById()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-exists"><code class="language-plaintext highlighter-rouge">exists()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-count"><code class="language-plaintext highlighter-rouge">count()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-create"><code class="language-plaintext highlighter-rouge">create()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-upsert"><code class="language-plaintext highlighter-rouge">upsert()</code></a> (same as <code class="language-plaintext highlighter-rouge">updateOrCreate()</code>)</li>
  <li><a href="http://apidocs.loopback.io/loopback/#persistedmodel-upsertwithwhere"><code class="language-plaintext highlighter-rouge">upsertWithWhere()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findorcreate"><code class="language-plaintext highlighter-rouge">findOrCreate()</code></a>*</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-save"><code class="language-plaintext highlighter-rouge">prototype.save()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-updateattributes"><code class="language-plaintext highlighter-rouge">prototype.updateAttributes()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-replaceorcreate"><code class="language-plaintext highlighter-rouge">replaceOrCreate()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-replaceattributes"><code class="language-plaintext highlighter-rouge">prototype.replaceAttributes()</code></a>
/ <a href="https://apidocs.loopback.io/loopback/#persistedmodel-replacebyid"><code class="language-plaintext highlighter-rouge">replaceById()</code></a></li>
</ul>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p>By default, <code class="language-plaintext highlighter-rouge">create</code> and <code class="language-plaintext highlighter-rouge">updateAttributes</code> do not apply database updates to the model instance returned to the callback,
therefore any changes made by “loaded” hooks are discarded. To change this behavior, set a per-model option <code class="language-plaintext highlighter-rouge">updateOnLoad: true</code>.</p>

</div>

<p>LoopBack invokes this hook after the connector fetches data, but before creating a model instance from that data.
This enables hooks to decrypt data (for example). NOTE: This hook is called with the raw database data, not a full model instance.</p>

<p>Context properties</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">data</code> - the data returned by the connector (loaded from the database)</li>
</ul>

<h3 id="persist">persist</h3>

<p>This hook is triggered by operations that persist data to the datasource, specifically, the following methods of PersistedModel:</p>

<ul>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-create"><code class="language-plaintext highlighter-rouge">create()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-upsert"><code class="language-plaintext highlighter-rouge">upsert()</code></a> (same as <code class="language-plaintext highlighter-rouge">updateOrCreate()</code>)</li>
  <li><a href="http://apidocs.loopback.io/loopback/#persistedmodel-upsertwithwhere"><code class="language-plaintext highlighter-rouge">upsertWithWhere()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-findorcreate"><code class="language-plaintext highlighter-rouge">findOrCreate()</code></a>*</li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-save"><code class="language-plaintext highlighter-rouge">prototype.save()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-updateattributes"><code class="language-plaintext highlighter-rouge">prototype.updateAttributes()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-updateall"><code class="language-plaintext highlighter-rouge">updateAll()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-replaceorcreate"><code class="language-plaintext highlighter-rouge">replaceOrCreate()</code></a></li>
  <li><a href="https://apidocs.loopback.io/loopback/#persistedmodel-prototype-replaceattributes"><code class="language-plaintext highlighter-rouge">prototype.replaceAttributes()</code></a>
/ <a href="https://apidocs.loopback.io/loopback/#persistedmodel-replacebyid"><code class="language-plaintext highlighter-rouge">replaceById()</code></a></li>
</ul>

<p>Don’t confuse this hook with the “before save” hook:</p>

<ul>
  <li><strong>before save</strong> – Use this hook to observe (and operate on) model instances that are about to be saved (for example,
when the country code is set and the country name not, fill in the country name).</li>
  <li><strong>persist</strong> – Use this hook to observe (and operate on) data just before it is going to be persisted into a data source
(for example, encrypt the values in the database).</li>
</ul>

<p>During <code class="language-plaintext highlighter-rouge">create</code> the updates applied through <code class="language-plaintext highlighter-rouge">persist</code> hook are reflected into the database,
but the same updates are NOT reflected in the <code class="language-plaintext highlighter-rouge">instance</code> object obtained in callback of <code class="language-plaintext highlighter-rouge">create</code>.</p>

<p>Secondly, for connectors implementing atomic <code class="language-plaintext highlighter-rouge">findOrCreate</code>, a new instance of the object is created every time,
even if an existing record is later found in the database. So:</p>

<ul>
  <li>Both <a href="http://ctx.data.id/"><code class="language-plaintext highlighter-rouge">ctx.data.id</code></a> and <a href="http://ctx.currentinstance.id/"><code class="language-plaintext highlighter-rouge">ctx.currentInstance.id</code></a> are set to new ID.</li>
  <li><code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> is <code class="language-plaintext highlighter-rouge">true</code></li>
</ul>

<p>Context properties</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">data</code> - the data that will be sent to the connector (saved to the database)</li>
  <li><code class="language-plaintext highlighter-rouge">currentInstance</code> - the affected model instance</li>
  <li><code class="language-plaintext highlighter-rouge">isNewInstance</code> - see below.</li>
</ul>

<p>For this hook, <code class="language-plaintext highlighter-rouge">ctx.isNewInstance</code> is:</p>

<ul>
  <li>True for all CREATE operations</li>
  <li>False for all UPDATE operations</li>
  <li>Undefined for updateOrCreate, , upsertWithWhere, replaceOrCreate, prototype.save, prototype.updateAttributes, and updateAll operations.</li>
</ul>

<h2 id="afterinitialize-hook">afterInitialize hook</h2>

<div class="alert alert-warning" role="alert">
  <p><i class="fa fa-warning"></i>
  <b>Important:</b></p>

  <p><code class="language-plaintext highlighter-rouge">afterInitialize</code> is not strictly an operation hook. It is actually the only <a href="/doc/en/lb2/Model-hooks.html">model hook</a> that is not deprecated.</p>

  <p>It is a synchronous method and does not take a callback function: You do not need to call <code class="language-plaintext highlighter-rouge">next()</code> after performing your logic in the hook.</p>

</div>

<p>This hook is called after a model is initialized.</p>

<h3 id="example">Example</h3>

<p><strong>/common/models/coffee-shop.js</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
CoffeeShop.afterInitialize = function() {
  //your logic goes here
};
...
</code></pre></div></div>

<p>Most operations require initializing a model before actually performing an action, but there are a few cases where the initialize event is not triggered,
such as HTTP requests to the <code class="language-plaintext highlighter-rouge">exists</code>, <code class="language-plaintext highlighter-rouge">count</code>, or bulk update REST endpoints.</p>

<h2 id="migrating-from-model-hooks">Migrating from model hooks</h2>

<p>The following table shows which new hook to use for each of the deprecated <a href="/doc/en/lb2/Model-hooks.html">model hooks</a>:</p>

<table>
  <thead>
    <tr>
      <th>Model hook</th>
      <th>Operation hook to use instead</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>beforeValidate</td>
      <td>before save</td>
    </tr>
    <tr>
      <td>afterValidate</td>
      <td>persist</td>
    </tr>
    <tr>
      <td>beforeCreate</td>
      <td>before save</td>
    </tr>
    <tr>
      <td>afterCreate</td>
      <td>after save</td>
    </tr>
    <tr>
      <td>beforeSave</td>
      <td>before save</td>
    </tr>
    <tr>
      <td>afterSave</td>
      <td>after save</td>
    </tr>
    <tr>
      <td>beforeUpdate</td>
      <td>before save</td>
    </tr>
    <tr>
      <td>afterUpdate</td>
      <td>after save</td>
    </tr>
    <tr>
      <td>beforeDestroy</td>
      <td>before delete</td>
    </tr>
    <tr>
      <td>afterDestroy</td>
      <td>after delete</td>
    </tr>
  </tbody>
</table>




    <div class="tags">
      
        <b>Tags: </b>
        
        
          
            <a href="tag_application_logic.html" class="tags-item" role="button">application_logic</a>
            
        
      
    </div>
</div>

<hr class="shaded"/>

<footer id="container">
            <div class="row">
                <div class="col-md-6 footer-left">
               &copy;2021 IBM / StrongLoop. All rights reserved. <br />
 Site last generated: Mar 22, 2021
              </div>
              <div class="col-md-6 footer-right">
                <p><img src="https://loopback.io/images/company_logo.png" alt="Company logo"/></p>
              </div>
            </div>
</footer>


        </div>
        <!-- /.row -->
</div>
<!-- /.container -->
    </div>
</body>

</html>
