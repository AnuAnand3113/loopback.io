<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LoopBack RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LoopBack Atom Feed"><title data-react-helmet="true">LoopBack 4 December 2018 Milestone Update | LoopBack</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://loopback.io/blog/december-2018-milestone"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="LoopBack 4 December 2018 Milestone Update | LoopBack"><meta data-react-helmet="true" name="description" content="Originally published on strongloop.com"><meta data-react-helmet="true" property="og:description" content="Originally published on strongloop.com"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2019-01-09T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/jannyhou"><meta data-react-helmet="true" property="article:tag" content="Milestone update"><link data-react-helmet="true" rel="icon" href="/blog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://loopback.io/blog/december-2018-milestone"><link data-react-helmet="true" rel="alternate" href="https://loopback.io/blog/december-2018-milestone" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://loopback.io/blog/december-2018-milestone" hreflang="x-default"><link rel="stylesheet" href="/blog/assets/css/styles.137bdc1f.css">
<link rel="preload" href="/blog/assets/js/runtime~main.8703c6fc.js" as="script">
<link rel="preload" href="/blog/assets/js/main.9d30cf11.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://loopback.io" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/blog/img/logo.svg" alt="LoopBack Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/blog/img/logo.svg" alt="LoopBack Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">LoopBack</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/loopbackio/loopback-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/new-home-for-the-loopback-blog">New Home for the LoopBack Blog</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/november-2020-milestone">LoopBack 4 November 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/october-2020-milestone">LoopBack 4 October 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-oct-slack-qa">Community Q&amp;A Monthly Digest - Oct 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2020-q3-overview">LoopBack 4 2020 Q3 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-lb3-eol">LoopBack 3 End-of-Life</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/september-2020-milestone">LoopBack 4 September 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-hacktoberfest">LoopBack is participating in Hacktoberfest 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-sept-slack-qa">Community Q&amp;A Monthly Digest - Sept 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/august-2020-milestone">LoopBack 4 August 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-community-contribution">Enriching LoopBack and its Community - You are Invited!</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-jul-slack-qa">Community Q&amp;A Monthly Digest - July 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/july-2020-milestone">LoopBack 4 July 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/switching-to-dco">Making Your Contribution Process Simpler - Switching from CLA to DCO</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-Jun-slack-qa">Community Q&amp;A Monthly Digest - Jun 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2020-q2-overview">LoopBack 4 2020 Q2 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/june-2020-milestone">LoopBack 4 June 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-may-slack-qa">Community Q&amp;A Monthly Digest - May 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-improve-looopback-performance-uuid">How We Improved LoopBack REST Performance by 45%</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/may-2020-milestone">LoopBack 4 May 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-share-repository-code">How to reuse custom LoopBack Repository code</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/express-to-loopback">LoopBack - Taking Express to the Next Level</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/april-2020-milestone">LoopBack 4 April 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-april-slack-qa">Community Q&amp;A Monthly Digest - April 2020</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/model-to-rest-api-feature">Build REST APIs for CRUD operations from a model without coding</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2020-q1-overview">LoopBack 4 2020 Q1 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/march-2020-milestone">LoopBack 4 March 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/february-2020-milestone">LoopBack 4 February 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2020-goals">LoopBack - 2020 Goals and Focus</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/lb3-entered-maintenance-mode">LoopBack 3 has entered Maintenance LTS</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/january-2020-milestone">LoopBack 4 January 2020 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback4-2019-q4-overview">LoopBack 4 2019 Q4 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/december-2019-milestone">LoopBack 4 December 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-2019-review">LoopBack 2019 Year in Review</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/november-2019-milestone">LoopBack 4 November 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/going-cloud-native-with-loopback-4">Going Cloud Native with LoopBack 4</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt7">Building an Online Game With LoopBack 4 - Wrap-Up (Part 7)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/cascon-evoke-2019">CASCONxEVOKE Conference Recap for LoopBack</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/october-2019-milestone">LoopBack 4 October 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/inclusion-of-related-models">LoopBack 4 Offers Inclusion of Related Models</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2019-q3-overview">LoopBack 4 2019 Q3 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/import-loopback-3-models-to-loopback-4">Import LoopBack 3 Models into a LoopBack 4 Project</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/september-2019-milestone">LoopBack 4 September 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/august-2019-milestone">LoopBack 4 August 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt6">Building an Online Game With LoopBack 4 - Front-end with React (Part 6)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback4-interceptors-part2">Learning LoopBack 4 Interceptors (Part 2) - Method Level and Class Level Interceptors</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-2019-api-award-api-middleware">Congratulations to LoopBack, Winner of 2019 API Award for API Middleware</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/july-2019-milestone">LoopBack 4 July 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback4-interceptors-part1">Learning LoopBack 4 Interceptors (Part 1) - Global Interceptors</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt5">Building an Online Game With LoopBack 4 - Deploying our Application to Kubernetes on IBM Cloud (Part 5)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2019-q2-overview">LoopBack 4 2019 Q2 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-june-2019-milestone">LoopBack 4 June 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-authentication-updates">What&#x27;s New in LoopBack 4 Authentication 2.0</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt4">Building an Online Game With LoopBack 4 - User Authentication and Role-Based Access Control (Part 4)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/migrate-from-loopback-3-to-loopback-4">Migrating from LoopBack 3 to LoopBack 4</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/may-2019-milestone">LoopBack 4 May 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt3">Building an Online Game With LoopBack 4 - Customizing APIs in Controller (Part 3)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-an-online-game-with-loopback-4-pt2">Building an Online Game With LoopBack 4, Part 2 - Generating Universally Unique ID and Managing Models Relationships</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/april-2019-milestone">LoopBack 4 April 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/building-online-game-with-loopback-4-pt1">Building an Online Game With LoopBack 4 (Part 1)</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback-4-2019-q1-overview">LoopBack 4 2019 Q1 Overview</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/march-2019-milestone">LoopBack 4 March 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/loopback4-javascript-experience">Experimenting with Plain JavaScript Programming in LoopBack 4</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/lb3-extended-lts">LoopBack 3 Receives Extended Long Term Support</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/february-2019-milestone">LoopBack 4 February 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/watch-meetup-quickly-build-apis-with-loopback">Watch Video from our Meetup - Quickly Build APIs with Existing Services and Data Using LoopBack!</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/create-dynamic-end-to-end-REST-APIs-with-loopback4">New Developer Page - Create Dynamic End-to-End REST APIs with LoopBack 4</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/january-2019-milestone">LoopBack 4 January 2019 Milestone Update</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/meetup-quickly-build-apis-using-loopback">Meetup - Quickly Build APIs with Existing Services and Data Using LoopBack!</a></li><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/blog/december-2018-milestone">LoopBack 4 December 2018 Milestone Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">LoopBack 4 December 2018 Milestone Update</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2019-01-09T00:00:00.000Z" itemprop="datePublished">January 9, 2019</time> Â· <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><a href="https://github.com/jannyhou" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_o0gy" src="https://avatars2.githubusercontent.com/u/12554153" alt="Janny Hou"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/jannyhou" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Janny Hou</span></a></div><small class="avatar__subtitle" itemprop="description">LoopBack Maintainer</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p><em>Originally published on <a href="https://strongloop.com" target="_blank" rel="noopener noreferrer">strongloop.com</a></em></p><p>Happy New Year! We hope everyone had a wonderful holiday and warmly welcomed 2019. This past December was a short month due to the vacation days, but we were still able to complete several fixes and take off in our next focused epics like authentication and building a JavaScript LoopBack 4 application. You can read more about our progress below.</p><p><img alt="LoopBack 4 December 2018 Milestone Update" src="/blog/assets/images/LoopBack-4-December-2018-Milestone-Update-0cddccdd224f069fad6852d2a9d92325.png" width="1247" height="471"></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="community-contribution">Community Contribution<a class="hash-link" href="#community-contribution" title="Direct link to heading">â€‹</a></h2><p>In December we received several document updates and code refactor PRs to improve our code base and user experience. Our LoopBack team appreciates all the contributions that community members have made through the past year. We look forward to continually improving LoopBack 4 with you in the new year! Thank you for participating in the new era of LoopBack.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="authentication-and-authorization">Authentication and Authorization<a class="hash-link" href="#authentication-and-authorization" title="Direct link to heading">â€‹</a></h2><p>For the first refactoring task of the authentication component, we started by implementing a JWT strategy in the shopping example. We did this to discover the common abstractions among different authentication strategies, and to explore ways of defining the default LoopBack 4 User model integrated with authorization methods like login and logout.</p><p>During the implementation, we found some twisted concepts that could confuse people in terms of how each layer&#x27;s metadata are injected and the mechanism of how the authentication component works. We created a diagram depicting the dependency relations and functionality of each concept to guide community contributors. You can find it in this <a href="https://github.com/strongloop/loopback-next/issues/1997#issuecomment-450998083" target="_blank" rel="noopener noreferrer">comment</a>.</p><p>We were able to write a PoC PR with the following elements:</p><ul><li>A JWT strategy that verifies a request&#x27;s permission by the authentication metadata from its header</li><li>A custom strategy resolver which returns the JWT strategy</li><li>An AccessToken model that has a one-to-many relation to the User model</li><li>A sign in endpoint in the User controller that finds a user and creates the JWT access token</li></ul><p>The PR is still in progress. We will summarize the required elements and the steps to create them in the document when it&#x27;s done. Our next focus would be extracting the pieces in the PoC PR into proper modules, including our existing <code>@loopback/authentication</code> package or a new created extension package. You can check story <a href="https://github.com/strongloop/loopback-next/issues/1997" target="_blank" rel="noopener noreferrer">#1997</a> to track the discussions.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="relation-epic">Relation Epic<a class="hash-link" href="#relation-epic" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="support-hasone-relation">Support hasOne relation<a class="hash-link" href="#support-hasone-relation" title="Direct link to heading">â€‹</a></h3><p>With the <code>hasMany</code> relation feature in place and with a lot of request from our community, it made logical sense to implement <code>hasOne</code> relation next. The first iteration <a href="https://github.com/strongloop/loopback-next/pull/1879" target="_blank" rel="noopener noreferrer">1879</a> involved an acceptance test to drive the feature with tests for <code>create</code> and <code>get</code> or <code>find</code> methods. However, it was using a race-condition prone approach in order to guarantee that a single related model instance was created for a source instance. The code called the <code>find()</code> and <code>create()</code> methods on the target repository which can lead to multiple target instances based on the asynchronous nature of those methods (see <a href="https://github.com/strongloop/loopback-next/pull/1879#discussion_r227363386" target="_blank" rel="noopener noreferrer">this comment</a> for a clear example). </p><p>In order to address this issue, <a href="https://github.com/bajtos" target="_blank" rel="noopener noreferrer">Miroslav</a> proposed using the target model&#x27;s Primary Key as the Foreign Key from the source model and let the underlying database enforce uniqueness. With it came <code>belongsToUniquely()</code> decorator which is used as part of the target model definition to mark a property as a non-generated <code>id</code> field for use with <code>hasOne</code> relation. After making sure it works with in-memory and MySQL databases, we concluded that it was universal enough and made sense to delegate uniqueness enforcement at the database level and landed the PR. </p><p>However, <a href="https://github.com/raymondfeng" target="_blank" rel="noopener noreferrer">Raymond</a> pointed out that this approach does not indeed enforce uniqueness across all supported connectors. Instead, he proposed to mark the foreign key as a unique index. While <a href="https://github.com/b-admike" target="_blank" rel="noopener noreferrer">Biniam</a> started the implementation in <a href="https://github.com/strongloop/loopback-next/pull/2126" target="_blank" rel="noopener noreferrer">2126</a>, he discovered that some connectors like <code>in-memory</code> and <code>cloudant</code> do not have support for <code>unique indexes</code>. Raymond, Miroslav, and Biniam discussed HasOne&#x27;s unique constraint for the foreign key and discovered a new way of looking at relations and constraints:</p><ul><li>Weak relations, where the developer primarily wants to navigate related models (think of GraphQL) and referential integrity is either not important or already enforced by the (SQL) database.</li><li>Strong relations, where the referential integrity is guaranteed by the framework together with the database.</li></ul><p>Given this and the fact that we don&#x27;t have a concrete way to enforce referential integrity in LoopBack from the approaches taken thus far, <a href="https://github.com/strongloop/loopback-next/pull/2126" target="_blank" rel="noopener noreferrer">#2126</a> was put on hold and <a href="https://github.com/strongloop/loopback-next/pull/2147" target="_blank" rel="noopener noreferrer">2147</a> aimed to remove the implementation which used target model&#x27;s PK as the FK for a <code>hasOne</code> relation. The onus is now on users to make sure that referential integrity is enforced by the database they&#x27;re using by defining a unique index as shown in our <a href="https://loopback.io/doc/en/lb4/hasOne-relation.html#setting-up-your-database-for-hasone-relation---mysql" target="_blank" rel="noopener noreferrer">docs</a>. For more discussion, see <a href="https://github.com/strongloop/loopback-next/issues/2127" target="_blank" rel="noopener noreferrer">2127</a> and <a href="https://github.com/strongloop/loopback-next/issues/1718" target="_blank" rel="noopener noreferrer">1718</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="inclusion-spike">Inclusion Spike<a class="hash-link" href="#inclusion-spike" title="Direct link to heading">â€‹</a></h3><p>To explore a good approach for doing the inclusion traverse, we did a spike that implemented an inclusion handler as a function to fetch the included items. When a one to many relation is established, the repository of the source model registers the inclusion handler, which takes in the target model&#x27;s repository getter, applies constraints and invoke the target repository&#x27;s <code>find</code> method with the inclusion filter.</p><p>This works well for <code>hasMany</code> relation but exposes more high level design problems when implementing the <code>belongsTo</code> inclusion handler. The <a href="https://github.com/strongloop/loopback-next/issues/1799" target="_blank" rel="noopener noreferrer">circular dependency restriction</a> results in two models could not define each other as a property in the model class. Therefore the <code>belongsTo</code> relation only has a foreignKey id property but not a relation property in the source model, and as a consequence, the source model couldn&#x27;t really describe the data included from its parent.</p><p>Here is a summary of the things we could re-design and improve:</p><ul><li>The Filter interface is not designed to describe related entities</li><li>The relation(inclusion) property shouldn&#x27;t be part of the model class</li><li>We need a new design to resolve and describe the inclusion property</li></ul><p>The discussion is tracked in <a href="https://github.com/strongloop/loopback-next/issues/2152" target="_blank" rel="noopener noreferrer">story 2152</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="documents">Documents<a class="hash-link" href="#documents" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="contribution-guide">Contribution Guide<a class="hash-link" href="#contribution-guide" title="Direct link to heading">â€‹</a></h3><p>To make users more easier to contribute the code, we cleaned up the <a href="https://loopback.io/doc/en/contrib/Reporting-issues.html" target="_blank" rel="noopener noreferrer">Reporting issues</a> page with a more detailed guide of reporting in appropriate channels, and updated the instructions of filing Loopback 2/3 and Loopback 4 bugs separately.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="api-documents">API Documents<a class="hash-link" href="#api-documents" title="Direct link to heading">â€‹</a></h3><p>We fixed the <code>AuthenticationBindings</code> and <code>StrategyAdapter</code>&#x27;s API document in the authentication module.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="extensible-request-body-parsing-blog">Extensible Request Body Parsing Blog<a class="hash-link" href="#extensible-request-body-parsing-blog" title="Direct link to heading">â€‹</a></h2><p>The API client sends an HTTP request with <code>Content-Type</code> header to indicate the media type of the request body. Now we added 6 built-in body parsers for different content types and also allow users to register custom body parser as extensions by implementing the <code>BodyParser</code> interface and bind it to the application.</p><p>To know more about the details, you can read the blog <a href="https://strongloop.com/strongblog/the-journey-to-extensible-request-body-parsing" target="_blank" rel="noopener noreferrer">The journey to extensible request body parsing</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="write-loopback-4-app-in-javascript">Write Loopback 4 App in JavaScript<a class="hash-link" href="#write-loopback-4-app-in-javascript" title="Direct link to heading">â€‹</a></h2><p>We are working on a JavaScript abstraction for LoopBack 4. Using this, JavaScript developers will be able to develop LoopBack 4 applications without having to use TypeScript. You can preview an app using the progress we have made so far at <a href="https://github.com/strongloop/loopback4-example-javascript" target="_blank" rel="noopener noreferrer">https://github.com/strongloop/loopback4-example-javascript</a>.</p><p>The next step is to further optimize the abstraction and make it as seamless as possible.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="openapi-specifications">OpenAPI Specifications<a class="hash-link" href="#openapi-specifications" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="base-path">Base Path<a class="hash-link" href="#base-path" title="Direct link to heading">â€‹</a></h3><p>We enabled adding the base path of the REST server by calling the app method <code>app.basePath(&#x27;/abasepath&#x27;)</code> or server method <code>server.basePath(&#x27;/abasepath&#x27;)</code>. The base path can be provided in the configuration too:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">RestApplication</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   rest</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     basePath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/api&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="models-for-anonymous-schema">Models for Anonymous Schema<a class="hash-link" href="#models-for-anonymous-schema" title="Direct link to heading">â€‹</a></h3><p>Previously when creating LoopBack 4 artifacts by <code>lb4 openapi</code>, the controller class used inline TypeScript type literals to describe the object/array parameters for anonymous schemas. Therefore we introduced a flag called <code>--promote-anonymous-schemas</code> to generate separate model classes/types for them. A good use case for turning on the flag would be generating models for the anonymous objects that describe a POST/PATCH operation&#x27;s responses. For a more detailed usage of the flag and the conventions of the created LoopBack 4 model, please check <a href="https://loopback.io/doc/en/lb4/OpenAPI-generator.html" target="_blank" rel="noopener noreferrer">the documentation of OpenAPI generator</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="context-improvement">Context Improvement<a class="hash-link" href="#context-improvement" title="Direct link to heading">â€‹</a></h2><p>To avoid duplicating the binding configuration every time the users are applying the same attributes such as tags and scope, we allow applying a template function to a binding in the following way:</p><div class="codeBlockContainer_I0IT language-ts theme-code-block"><div class="codeBlockContent_wNvx ts"><pre tabindex="0" class="prism-code language-ts codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">serverTemplate</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">binding</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Binding</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  binding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">inScope</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BindingScope</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SINGLETON</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;server&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> serverBinding </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Binding</span><span class="token class-name operator" style="color:#393A34">&lt;</span><span class="token class-name maybe-class-name">RestServer</span><span class="token class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;servers.RestServer1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">serverBinding</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">serverTemplate</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>We also polished the binding related documentation and extracted them into a standalone page <a href="https://loopback.io/doc/en/lb4/Binding.html" target="_blank" rel="noopener noreferrer">Binding</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="tslint-configurations">Tslint Configurations<a class="hash-link" href="#tslint-configurations" title="Direct link to heading">â€‹</a></h2><p>The built-in <code>no-unused-variable</code> rule raised many issues like conflicts with other rules and it&#x27;s also been deprecated. As a solution, we are replacing it with another configuration property <code>no-unused</code>. This causes a possible breaking change and therefore a new standalone package <code>@loopback/tslint-config</code> is created to separate the major version bump for changing the tslint configurations from <code>@loopback/build</code>. You can check <a href="https://github.com/strongloop/loopback-next/pull/2159" target="_blank" rel="noopener noreferrer">PR#2159</a> for details.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="loopback-3-support">LoopBack 3 Support<a class="hash-link" href="#loopback-3-support" title="Direct link to heading">â€‹</a></h2><p>Since LB2 will reach its end of line by April 2019, we&#x27;re searching through the modules in the StrongLoop organization and updating LoopBack dependencies from version to 2 to version 3. We updated <code>loopback-workspace</code> from a LoopBack 2 application to LoopBack 3 application without changing any behaviours of its APIs. As part of the update, the <code>WorkspaceEntity</code> and <code>Definition</code> models were removed from the model configuration file, as they are not meant to be accessed directly and they are not attached to a datasource. Finally, the application has been updated to use Node 6+ and the application&#x27;s dependencies have also been updated to their latest versions.</p><p>You can find out more in our <a href="https://loopback.io/doc/en/contrib/Long-term-support.html" target="_blank" rel="noopener noreferrer">LTS schedule</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="call-to-action">Call to Action<a class="hash-link" href="#call-to-action" title="Direct link to heading">â€‹</a></h2><p>LoopBack&#x27;s future success depends on you. We appreciate your continuous support and engagement to make LoopBack even better and meaningful for your API creation experience. Please join us and help the project by:</p><ul><li><a href="https://github.com/strongloop/loopback-next/issues" target="_blank" rel="noopener noreferrer">Reporting issues</a>.</li><li><a href="https://github.com/strongloop/loopback-next/blob/master/docs/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">Contributing</a>
code and documentation.</li><li><a href="https://github.com/strongloop/loopback-next/labels/good%20first%20issue" target="_blank" rel="noopener noreferrer">Opening a pull request on one of our &quot;good first issues&quot;</a>.</li><li><a href="https://github.com/strongloop/loopback-next/issues/110" target="_blank" rel="noopener noreferrer">Joining</a> our user group.</li></ul></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_h6_j"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/blog/tags/milestone-update">Milestone update</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/loopbackio/loopback-blog/blog/2019/2019-01-09-december-milestone.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/meetup-quickly-build-apis-using-loopback"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Meetup - Quickly Build APIs with Existing Services and Data Using LoopBack!</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#community-contribution" class="table-of-contents__link toc-highlight">Community Contribution</a></li><li><a href="#authentication-and-authorization" class="table-of-contents__link toc-highlight">Authentication and Authorization</a></li><li><a href="#relation-epic" class="table-of-contents__link toc-highlight">Relation Epic</a><ul><li><a href="#support-hasone-relation" class="table-of-contents__link toc-highlight">Support hasOne relation</a></li><li><a href="#inclusion-spike" class="table-of-contents__link toc-highlight">Inclusion Spike</a></li></ul></li><li><a href="#documents" class="table-of-contents__link toc-highlight">Documents</a><ul><li><a href="#contribution-guide" class="table-of-contents__link toc-highlight">Contribution Guide</a></li><li><a href="#api-documents" class="table-of-contents__link toc-highlight">API Documents</a></li></ul></li><li><a href="#extensible-request-body-parsing-blog" class="table-of-contents__link toc-highlight">Extensible Request Body Parsing Blog</a></li><li><a href="#write-loopback-4-app-in-javascript" class="table-of-contents__link toc-highlight">Write Loopback 4 App in JavaScript</a></li><li><a href="#openapi-specifications" class="table-of-contents__link toc-highlight">OpenAPI Specifications</a><ul><li><a href="#base-path" class="table-of-contents__link toc-highlight">Base Path</a></li><li><a href="#models-for-anonymous-schema" class="table-of-contents__link toc-highlight">Models for Anonymous Schema</a></li></ul></li><li><a href="#context-improvement" class="table-of-contents__link toc-highlight">Context Improvement</a></li><li><a href="#tslint-configurations" class="table-of-contents__link toc-highlight">Tslint Configurations</a></li><li><a href="#loopback-3-support" class="table-of-contents__link toc-highlight">LoopBack 3 Support</a></li><li><a href="#call-to-action" class="table-of-contents__link toc-highlight">Call to Action</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://loopback.io/doc/en/lb4" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://loopback.io/doc/en/lb4/apidocs.index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>API Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/strongloop" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack Workspace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/groups/5046525/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/loopbackio/loopback-next" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://openjsf.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_RC3H"><img src="/blog/img/openjs_foundation-logo.svg" alt="OpenJS Foundation logo" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/blog/img/openjs_foundation-logo.svg" alt="OpenJS Foundation logo" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></a></div><div class="footer__copyright"><p>Copyright <a href="https://openjsf.org">OpenJS Foundation</a> and LoopBack contributors. All rights reserved. The <a href="https://openjsf.org">OpenJS Foundation</a> has registered trademarks and uses trademarks.  For a list of trademarks of the <a href="https://openjsf.org">OpenJS Foundation</a>, please see our <a href="https://trademark-policy.openjsf.org">Trademark Policy</a> and <a href="https://trademark-list.openjsf.org">Trademark List</a>.  Trademarks and logos not indicated on the <a href="https://trademark-list.openjsf.org">list of OpenJS Foundation trademarks</a> are trademarks&trade; or registered&reg; trademarks of their respective holders. Use of them does not imply any affiliation with or endorsement by them.</p>
        <p><a href="https://openjsf.org">The OpenJS Foundation</a> | <a href="https://terms-of-use.openjsf.org">Terms of Use</a> | <a href="https://privacy-policy.openjsf.org">Privacy Policy</a> | <a href="https://bylaws.openjsf.org">Bylaws</a> | <a href="https://code-of-conduct.openjsf.org">Code of Conduct</a> | <a href="https://trademark-policy.openjsf.org">Trademark Policy</a> | <a href="https://trademark-list.openjsf.org">Trademark List</a> | <a href="https://www.linuxfoundation.org/cookies">Cookie Policy</a></p></div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.8703c6fc.js"></script>
<script src="/blog/assets/js/main.9d30cf11.js"></script>
</body>
</html>